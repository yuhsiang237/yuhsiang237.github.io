<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>UM&#39;s Coding Note</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="I record my coding experience at this place">
<meta property="og:type" content="website">
<meta property="og:title" content="UM&#39;s Coding Note">
<meta property="og:url" content="https://yuhsiang237.github.io/page/8/index.html">
<meta property="og:site_name" content="UM&#39;s Coding Note">
<meta property="og:description" content="I record my coding experience at this place">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Yu Hsiang">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="UM's Coding Note" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
<meta name="generator" content="Hexo 5.4.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">UM&#39;s Coding Note</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">I record my coding experience at this placeğŸ¤™</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://yuhsiang237.github.io"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  
    <article id="post-C-MVC-å›å‚³ç¨ç«‹é é¢æˆ–æ•´é«”é é¢" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/12/27/C-MVC-%E5%9B%9E%E5%82%B3%E7%8D%A8%E7%AB%8B%E9%A0%81%E9%9D%A2%E6%88%96%E6%95%B4%E9%AB%94%E9%A0%81%E9%9D%A2/" class="article-date">
  <time class="dt-published" datetime="2021-12-27T12:20:46.000Z" itemprop="datePublished">2021-12-27</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Code/">Code</a>â–º<a class="article-category-link" href="/categories/Code/C/">C#</a>â–º<a class="article-category-link" href="/categories/Framework/">Framework</a>â–º<a class="article-category-link" href="/categories/Framework/AspNetCore-MVC/">AspNetCore MVC</a>â–º<a class="article-category-link" href="/categories/Topic/">Topic</a>â–º<a class="article-category-link" href="/categories/Topic/2021-C-AspNetCore-Challenge/">2021 C# AspNetCore Challenge</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/12/27/C-MVC-%E5%9B%9E%E5%82%B3%E7%8D%A8%E7%AB%8B%E9%A0%81%E9%9D%A2%E6%88%96%E6%95%B4%E9%AB%94%E9%A0%81%E9%9D%A2/">[Day27] C# MVC å›å‚³ç¨ç«‹é é¢æˆ–æ•´é«”é é¢ - C#&amp;AspNetCore</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>åœ¨æ­¤ä»‹ç´¹å¦‚ä½•è®“æŸäº›é é¢ä¸å¥—ç”¨åŸæœ¬é è¨­çš„_Layout.cshtmlã€‚</p>
<p>å¦‚å¸¸è¦‹çš„ç™»å…¥é é¢ï¼Œå¸¸å¸¸æ˜¯ä¸€å€‹ç¨ç«‹ç•«é¢ï¼Œé€™æ™‚åªè¦å›å‚³PartialViewã€‚<br><strong>UserController.cs</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">public IActionResult SignIn()</span><br><span class="line">&#123;</span><br><span class="line">    return PartialView();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è€Œé è¨­æœƒå¥—ç”¨_Layout.cshtmlçš„å‰‡æ˜¯å›å‚³Viewã€‚<br><strong>HomeController.cs</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">public IActionResult Hone()</span><br><span class="line">&#123;</span><br><span class="line">    return View();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="çµè«–"><a href="#çµè«–" class="headerlink" title="çµè«–"></a>çµè«–</h3><p>ç°¡å–®ä»‹ç´¹ä¸€ä¸‹ï¼Œæ­¤å¤–å¦‚æœè¦æ§åˆ¶é è¨­åƒä»€éº¼Layoutå¯ä»¥å¾ä»¥ä¸‹æª”æ¡ˆè¨­å®š:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">\Views\_ViewStart.cshtml</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://yuhsiang237.github.io/2021/12/27/C-MVC-%E5%9B%9E%E5%82%B3%E7%8D%A8%E7%AB%8B%E9%A0%81%E9%9D%A2%E6%88%96%E6%95%B4%E9%AB%94%E9%A0%81%E9%9D%A2/" data-id="cme6kwo0p001lgaljccwd5pmi" data-title="[Day27] C# MVC å›å‚³ç¨ç«‹é é¢æˆ–æ•´é«”é é¢ - C#&amp;AspNetCore" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-C-MVC-LINQå¯¦ä½œå¸¸è¦‹ç”¨æ³•" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/12/27/C-MVC-LINQ%E5%AF%A6%E4%BD%9C%E5%B8%B8%E8%A6%8B%E7%94%A8%E6%B3%95/" class="article-date">
  <time class="dt-published" datetime="2021-12-27T11:20:46.000Z" itemprop="datePublished">2021-12-27</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Code/">Code</a>â–º<a class="article-category-link" href="/categories/Code/C/">C#</a>â–º<a class="article-category-link" href="/categories/Framework/">Framework</a>â–º<a class="article-category-link" href="/categories/Framework/AspNetCore-MVC/">AspNetCore MVC</a>â–º<a class="article-category-link" href="/categories/Topic/">Topic</a>â–º<a class="article-category-link" href="/categories/Topic/2021-C-AspNetCore-Challenge/">2021 C# AspNetCore Challenge</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/12/27/C-MVC-LINQ%E5%AF%A6%E4%BD%9C%E5%B8%B8%E8%A6%8B%E7%94%A8%E6%B3%95/">[Day26] C# MVC LINQå¯¦ä½œå¸¸è¦‹ç”¨æ³• - C#&amp;AspNetCore</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>åœ¨é€™ç¯‡ä¸­ä¸»è¦ç´€éŒ„ä¸€äº›å¸¸è¦‹çš„C# LINQå¯«æ³•ï¼Œé€šå¸¸æ­é…è³‡æ–™åº«EF Coreä½¿ç”¨ã€‚</p>
<p>1.ç°¡å–®å–å¾—åŒ¹é…æŸIDçš„â€è¤‡æ•¸â€ç­†è³‡æ–™åˆ—</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var query = </span><br><span class="line">from a in _context.Roles</span><br><span class="line">where a.Id == user.RoleId</span><br><span class="line">select a;</span><br></pre></td></tr></table></figure>

<p>2.å–å¾—æŸâ€å–®ç­†â€ç‰©ä»¶è³‡æ–™</p>
<p>ä½œæ³•1:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">var query = (from a in _context.Users</span><br><span class="line">where a.Account == userAccount</span><br><span class="line">select new</span><br><span class="line">&#123;</span><br><span class="line">    Id = a.Id,</span><br><span class="line">    Account = a.Account,</span><br><span class="line">    RoleId = a.RoleId,</span><br><span class="line">    Name = a.Name,</span><br><span class="line">    Email = a.Email</span><br><span class="line">&#125;).FirstOrDefault()</span><br></pre></td></tr></table></figure>
<p>ä½œæ³•2:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var query =  _context.Products.FirstOrDefault(x =&gt; x.Id == shipmentOrderDetail.ProductId);</span><br></pre></td></tr></table></figure>

<p>å·®åˆ¥åœ¨ä¸€å€‹å…¨æ˜¯ç”¨.çš„æ–¹å¼å¯«ã€‚</p>
<p>3.ç¾¤çµ„è³‡æ–™çµæœã€‚æ­¤ä¾‹å°‡æ—¥æœŸè®Šæˆç¾¤çµ„ï¼Œçµ±è¨ˆæ¯æ—¥æœŸå…·æœ‰çš„è³‡æ–™ç­†æ•¸ã€‚<br>ä¸”ä½¿ç”¨åŒ¿åclasså»ºç«‹æœå°‹çµæœã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">var query = from a in _context.ShipmentOrders</span><br><span class="line">where a.IsDeleted != true</span><br><span class="line">where a.DeliveryDate.Value.Month == DateTime.Now.Month</span><br><span class="line">group a by a.DeliveryDate.Value.Date into g</span><br><span class="line">select new &#123; DeliveryDate = g.Key, Count = g.Count() &#125;</span><br></pre></td></tr></table></figure>

<p>4.ä¸»è¡¨aä¹‹å¾Œinner join bè¡¨çš„è³‡æ–™ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">var query = from a in _context.ReturnShipmentOrders</span><br><span class="line">join b in _context.ShipmentOrders</span><br><span class="line">on a.ShipmentOrderId equals b.Id</span><br><span class="line">where a.IsDeleted != true</span><br><span class="line">select new ReturnShipmentOrderViewModel</span><br><span class="line">&#123;</span><br><span class="line">Id = a.Id,</span><br><span class="line">Number = a.Number,</span><br><span class="line">ShipmentOrderNumber = b.Number,</span><br><span class="line">Total = a.Total,</span><br><span class="line">ReturnDate = a.ReturnDate</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>5.LINQå­æŸ¥è©¢ï¼ŒCategoryè¡¨è³‡æ–™åœ¨å¦ä¸€å€‹å¤šå°å¤šè¡¨ä¸Šï¼Œä½¿ç”¨å­æŸ¥è©¢å»å–å¾—çµæœã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">var query = from a in _context.Products</span><br><span class="line">where a.IsDeleted != true</span><br><span class="line">select new ProductIndexViewModel</span><br><span class="line">&#123;</span><br><span class="line">    Id = a.Id,</span><br><span class="line">    Number = a.Number,</span><br><span class="line">    Name = a.Name,</span><br><span class="line">    CurrentUnit = a.CurrentUnit,</span><br><span class="line">    Price = a.Price,</span><br><span class="line">    Description = a.Description,</span><br><span class="line">    Category = (from b in _context.ProductProductCategoryRelationships</span><br><span class="line">                    join c in category</span><br><span class="line">                    on b.ProductCategoryId equals c.Id</span><br><span class="line">                    where b.ProductId == a.Id</span><br><span class="line">                    select new ProductCategory</span><br><span class="line">                    &#123; </span><br><span class="line">                        Id = c.Id,</span><br><span class="line">                        Name = c.Name</span><br><span class="line">                    &#125;).ToList()</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>6.å–å¾—ç¸½æ•¸çµ±è¨ˆï¼Œåœ¨æ­¤ä¾‹ä»¥å–å¾—æŸå¹´çš„TotalåŠ ç¸½ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var query = (from a in _context.ShipmentOrders</span><br><span class="line">where a.IsDeleted != true</span><br><span class="line">where a.FinishDate.Value.Year == DateTime.Now.Year</span><br><span class="line">select a.Total).Sum()</span><br></pre></td></tr></table></figure>

<p>7.å–å¾—æŸ¥è©¢çš„çµæœæ•¸é‡</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var query = (int)(from a in _context.Products</span><br><span class="line">where a.IsDeleted != true</span><br><span class="line">select a.Id).Count();</span><br></pre></td></tr></table></figure>

<h3 id="çµè«–"><a href="#çµè«–" class="headerlink" title="çµè«–"></a>çµè«–</h3><p>ä¸»è¦åœ¨é€™ç¯‡ä¸­ç´€éŒ„å¯¦ä½œå¸¸è¦‹æœƒå¯«åˆ°çš„ä½œæ³•ã€‚<br>æ­¤å¤–ï¼Œå¦‚æœç†Ÿæ‚‰LINQå¾Œåè€Œæœƒé€ æˆåŸç”ŸSQLèªæ³•æ·¡å¿˜ï¼Œæ‰€ä»¥é‚„æ˜¯è¦åŠ æ¸›æ³¨æ„ä¸€ä¸‹åŸç”Ÿä½œæ³•ã€‚</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://yuhsiang237.github.io/2021/12/27/C-MVC-LINQ%E5%AF%A6%E4%BD%9C%E5%B8%B8%E8%A6%8B%E7%94%A8%E6%B3%95/" data-id="cme6kwo0f0012galjg3vga3au" data-title="[Day26] C# MVC LINQå¯¦ä½œå¸¸è¦‹ç”¨æ³• - C#&amp;AspNetCore" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-Arduino-LEDèˆ‡Buttonæ§åˆ¶" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/10/29/Arduino-LED%E8%88%87Button%E6%8E%A7%E5%88%B6/" class="article-date">
  <time class="dt-published" datetime="2021-10-29T09:04:44.000Z" itemprop="datePublished">2021-10-29</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Computer-Science/">Computer Science</a>â–º<a class="article-category-link" href="/categories/Computer-Science/Electronic-Circuit/">Electronic Circuit</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/10/29/Arduino-LED%E8%88%87Button%E6%8E%A7%E5%88%B6/">Arduino LEDèˆ‡Buttonæ§åˆ¶</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h3 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h3><p>æƒ³ä»¥åƒ…æœ‰çš„ææ–™åšå€‹LEDèˆ‡æŒ‰éˆ•æ§åˆ¶å¯¦é©—ã€‚<br>ä¸¦ä¸”è—‰ç”±æ’°å¯«ç¨‹å¼ä¾†ç›£æ§æŒ‰éˆ•ï¼Œä¸¦æ§åˆ¶LEDæ˜æš—ã€‚</p>
<h3 id="ææ–™"><a href="#ææ–™" class="headerlink" title="ææ–™"></a>ææ–™</h3><ol>
<li>LED 3MM ç´…è‰² x 1 :ç™¼å…‰äºŒæ¥µé«” (1.8Vï½2.2Vï¼Œ5mAï½20mA)</li>
<li>Arduinoç‰ˆ  x 1:ä»»æ„ä¸€å¡Šéƒ½å¯ (UNO)</li>
<li>220æ­å§†é›»é˜»(5%)  x 1:ç´…ç´…æ£•é‡‘</li>
<li>2.2kæ­å§†é›»é˜»(5%)  x 5:ç´…ç´…ç´…é‡‘</li>
</ol>
<p>é¦–å…ˆæ˜¯LEDçš„ç·šè·¯ï¼Œè¦è®“LEDèƒ½å¤ ç©©å®šä¸”ä¸ç‡’å£çš„äº®ç‡ˆï¼Œè¦å…ˆè¨ˆç®—é›»é˜»å¤šå°‘ã€‚<br>OUTPUTæœƒçµ¦äºˆ5Vï¼Œå› æ­¤ç”¨æ­å§†å®šå¾‹</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">V = IR</span><br></pre></td></tr></table></figure>
<p>(5-2)=0.02R<br>R=150ohm</p>
<p>ä½†æ˜¯LEDå…¶å¯¦å¯ä»¥ä½æ–¼20mAï¼Œè¦æ ¼æ˜¯5mAï½20mA<br>å› æ­¤å˜—è©¦ä¸²è¯ä¸€é¡†220æ­å§†é›»é˜»ç®—çœ‹çœ‹:<br>(5-2)=I*220<br>I=3/220<br>=0.013A<br>=13mA<br>é‚„åœ¨ç¯„åœå…§!æ‰€ä»¥å°±ç”¨220æ­å§†é›»é˜»äº†!</p>
<p>å†ä¾†æ˜¯æŒ‰éˆ•éƒ¨åˆ†ï¼Œé€™æ™‚è¦æ‰¯åˆ°ä¸€å€‹æ–°æ¦‚å¿µå°±æ˜¯ä¸Šæ‹‰é›»é˜»<br>ä¸Šæ‹‰é›»é˜»:<br>åœ¨æ•¸ä½é›»è·¯ä¸­ï¼Œä¸Šæ‹‰é›»é˜»ï¼ˆè‹±èªï¼šPull-up resistorsï¼‰æ˜¯ç•¶æŸè¼¸å…¥åŸ æœªé€£æ¥è¨­å‚™æˆ–è™•æ–¼é«˜é˜»æŠ—çš„æƒ…æ³ä¸‹ï¼Œä¸€ç¨®ç”¨æ–¼ä¿è­‰è¼¸å…¥è¨Šè™Ÿç‚ºé æœŸé‚è¼¯é›»å¹³çš„é›»é˜»å…ƒä»¶ã€‚ä»–å€‘é€šå¸¸åœ¨ä¸åŒçš„é‚è¼¯è£ç½®ä¹‹é–“å·¥ä½œï¼Œæä¾›ä¸€å®šçš„é›»å£“è¨Šè™Ÿã€‚</p>
<p>ä¸»è¦ç”¨ä¸Šæ‹‰é›»é˜»å”åŠ©æˆ‘å€‘æŒ‰éˆ•æä¾›ç©©å®šçš„è¨Šè™Ÿã€‚</p>
<img src="/2021/10/29/Arduino-LED%E8%88%87Button%E6%8E%A7%E5%88%B6/Pullup_Resistor.png" class="">
<p>ç•¶é–‹é—œæ–·é–‹çš„æ™‚å€™ï¼Œé‚è¼¯é–˜çš„è¼¸å…¥è¨Šè™Ÿè¢«ä¸Šæ‹‰åˆ°Vinï¼›ç•¶é–‹é—œé–‰åˆçš„æ™‚å€™ï¼Œé‚è¼¯é–˜çš„è¼¸å…¥ç«¯èˆ‡åœ°é¢ç›¸é€£ï¼Œè¼¸å…¥è¨Šè™Ÿæ¥è¿‘0ä¼ç‰¹ã€‚</p>
<p>é€šå¸¸ä¸Šæ‹‰é›»é˜»éƒ½æœƒæ¥10Ké›»é˜»ï¼Œä½†æˆ‘æ‰‹é‚Šåªæœ‰2.2kæ‰€ä»¥ä¸²å€‹5é¡†ã€‚</p>
<p>V=IR<br>5 = I*(2200*5)<br>I=0.0004A=0.4mA</p>
<img src="/2021/10/29/Arduino-LED%E8%88%87Button%E6%8E%A7%E5%88%B6/LEDWithButton_%E6%9E%B6%E6%A7%8B%E5%9C%96.png" class="">

<img src="/2021/10/29/Arduino-LED%E8%88%87Button%E6%8E%A7%E5%88%B6/LEDWithButton_bb.png" class="">


<p><strong>Code.ino</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">const int BUTTON_PIN = 7;  // æŒ‰éµçš„æ¥è…³</span><br><span class="line">const int LED_PIN =  8;   // LEDç‡ˆçš„æ¥è…³</span><br><span class="line"></span><br><span class="line">int buttonState = 0;   // æŒ‰éˆ•çš„ç‹€æ…‹</span><br><span class="line"></span><br><span class="line">void setup() &#123;</span><br><span class="line">  Serial.begin(115200);</span><br><span class="line">  pinMode(LED_PIN, OUTPUT);   //è¨­å®šLEDçš„PINè…³ç‚ºè¼¸å‡º</span><br><span class="line">  pinMode(BUTTON_PIN, INPUT); //è¨­å®šæŒ‰éˆ•çš„æ¥è…³ç‚ºè¼¸å…¥ï¼Œå› ç‚ºæˆ‘å€‘è¦è®€å–å®ƒçš„ç‹€æ…‹</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void loop() &#123;</span><br><span class="line">  buttonState = digitalRead(BUTTON_PIN);  //è®€å–æŒ‰éµçš„ç‹€æ…‹</span><br><span class="line"> </span><br><span class="line">  if(buttonState == LOW)&#123;          //å¦‚æœæŒ‰éµæŒ‰äº†</span><br><span class="line">    Serial.print(buttonState);</span><br><span class="line">    digitalWrite(LED_PIN, HIGH);   //LEDå°±äº®äº† </span><br><span class="line">  &#125;else&#123;                           //å¦‚æœæŒ‰éµæ˜¯æœªæŒ‰ä¸‹</span><br><span class="line">    Serial.print(buttonState);</span><br><span class="line">    digitalWrite(LED_PIN, LOW);    //LEDå°±ä¸äº®</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<img src="/2021/10/29/Arduino-LED%E8%88%87Button%E6%8E%A7%E5%88%B6/Screen%20Shot%202021-10-19%20at%2011.02.02%20PM.png" class="">

<img src="/2021/10/29/Arduino-LED%E8%88%87Button%E6%8E%A7%E5%88%B6/demo.gif" class="">


<h3 id="ç¸½çµ"><a href="#ç¸½çµ" class="headerlink" title="ç¸½çµ"></a>ç¸½çµ</h3><p>ç™¼ç¾é›»è·¯éœ€è¦ç†è«–éƒ¨åˆ†çš„åŠ å¼·ï¼Œå¦å‰‡æ¥å‡ºä¾†çš„ç·šè·¯æœƒæœ‰å•é¡Œã€‚<br>ä»¥æ­¤ä¾†èªªå°±æ˜¯ä¸Šæ‹‰é›»é˜»ï¼Œå¦‚æœä¸çŸ¥é“ä»–çš„åŸç†ï¼Œæœƒè¦ºå¾—æ¥å€‹5Vå‡ºä¾†æ˜¯è¦åšä»€éº¼ã€‚</p>
<p><strong>åƒè€ƒè³‡æ–™</strong><br><a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E4%B8%8A%E6%8B%89%E7%94%B5%E9%98%BB">https://zh.wikipedia.org/wiki/%E4%B8%8A%E6%8B%89%E7%94%B5%E9%98%BB</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://yuhsiang237.github.io/2021/10/29/Arduino-LED%E8%88%87Button%E6%8E%A7%E5%88%B6/" data-id="cme6kwnzu0006galj54il14h6" data-title="Arduino LEDèˆ‡Buttonæ§åˆ¶" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-C-MVC-API-Bearer-Tokenå¯¦ä½œ" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/10/28/C-MVC-API-Bearer-Token%E5%AF%A6%E4%BD%9C/" class="article-date">
  <time class="dt-published" datetime="2021-10-28T13:57:47.000Z" itemprop="datePublished">2021-10-28</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Code/">Code</a>â–º<a class="article-category-link" href="/categories/Code/C/">C#</a>â–º<a class="article-category-link" href="/categories/Framework/">Framework</a>â–º<a class="article-category-link" href="/categories/Framework/AspNetCore-API/">AspNetCore API</a>â–º<a class="article-category-link" href="/categories/Topic/">Topic</a>â–º<a class="article-category-link" href="/categories/Topic/2021-C-AspNetCore-Challenge/">2021 C# AspNetCore Challenge</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/10/28/C-MVC-API-Bearer-Token%E5%AF%A6%E4%BD%9C/">[Day25] C# MVC API JWT Tokené©—è­‰ (ä¸‹) JWTå¯¦ä½œ - C#&amp;AspNetCore</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>åœ¨é€™ç¯‡ä¸­ä¸»è¦å¯¦ä½œJWTçš„ç™»å…¥èªè­‰ï¼Œå–å¾—Tokenã€é€éTokenå°æœ‰æ¬Šé™çš„APIé€²è¡Œå­˜å–ã€‚</p>
<h3 id="å®‰è£"><a href="#å®‰è£" class="headerlink" title="å®‰è£"></a>å®‰è£</h3><p>1.å…ˆå®‰è£JWTå¥—ä»¶ï¼Œå› ç‚ºæˆ‘æ˜¯ç”¨AspNetCoreæ‰€ä»¥ç”¨<br>Microsoft.AspNetCore.Authentication.JwtBearer</p>
<img src="/2021/10/28/C-MVC-API-Bearer-Token%E5%AF%A6%E4%BD%9C/1.png" class="">

<h3 id="æ’°å¯«"><a href="#æ’°å¯«" class="headerlink" title="æ’°å¯«"></a>æ’°å¯«</h3><p>1.æ’°å¯«ç”¢ç”ŸJWT Tokençš„ç¨‹å¼ç¢¼ã€‚<br><strong>TokenController.cs</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">[HttpPost(&quot;GenerateToken&quot;)]</span><br><span class="line">[AllowAnonymous]</span><br><span class="line">public ActionResult&lt;string&gt; GenerateToken()</span><br><span class="line">&#123;</span><br><span class="line">    string issuer = &quot;JwtAuthDemo&quot;;</span><br><span class="line">    string signKey = &quot;ASASA1@AAASASASASA1@AAASAS&quot;; // éœ€è¦å¤§æ–¼16å­—å…ƒ</span><br><span class="line">    string Account = &quot;TestAccount&quot;;</span><br><span class="line">  </span><br><span class="line">    var securityKey = new SymmetricSecurityKey(Encoding.UTF8.GetBytes(signKey));</span><br><span class="line">    var signingCredentials = new SigningCredentials(securityKey, SecurityAlgorithms.HmacSha256Signature);</span><br><span class="line"></span><br><span class="line">    // å»ºç«‹ SecurityTokenDescriptor</span><br><span class="line">    var tokenDescriptor = new SecurityTokenDescriptor</span><br><span class="line">    &#123;</span><br><span class="line">        Issuer = issuer,</span><br><span class="line">        Subject = new ClaimsIdentity(new[]</span><br><span class="line">                &#123;</span><br><span class="line">                  new Claim(JwtRegisteredClaimNames.Sub, Account), // User.Identity.Name</span><br><span class="line">                  new Claim(JwtRegisteredClaimNames.Jti, Guid.NewGuid().ToString()), // JWT ID</span><br><span class="line">                  new Claim(&quot;test&quot;, &quot;123&quot;) // å¯åŠ å…¥è‡ªè¨‚å…§å®¹åœ¨è²æ˜è£¡</span><br><span class="line">                &#125;),</span><br><span class="line">        Expires = DateTime.Now.AddMinutes(60),</span><br><span class="line">        SigningCredentials = signingCredentials</span><br><span class="line">    &#125;;</span><br><span class="line">    var tokenHandler = new JwtSecurityTokenHandler();</span><br><span class="line">    var securityToken = tokenHandler.CreateToken(tokenDescriptor);</span><br><span class="line">    var serializeToken = tokenHandler.WriteToken(securityToken);</span><br><span class="line">    return serializeToken;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>2.æ’°å¯«æ¸¬è©¦JWTè«‹æ±‚çš„ç¨‹å¼ç¢¼<br>åœ¨æ­¤æ’°å¯«å…©å€‹ä¸€å€‹æ˜¯å–å¾—æ‰€æœ‰è²æ˜ï¼Œä¸€å€‹æ˜¯å–å¾—è©²Tokenå¾—ç¨ç«‹è­˜åˆ¥å€¼ã€‚<br><strong>TokenController.cs</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">[Authorize]</span><br><span class="line">[HttpGet(&quot;GetClaims&quot;)]</span><br><span class="line">public IActionResult GetClaims()</span><br><span class="line">&#123;</span><br><span class="line">    return Ok(User.Claims.Select(p =&gt; new &#123; p.Type, p.Value &#125;));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">[Authorize]</span><br><span class="line">[HttpGet(&quot;GetTokenID&quot;)]</span><br><span class="line">public IActionResult GetTokenID()</span><br><span class="line">&#123;</span><br><span class="line">    var jti = User.Claims.FirstOrDefault(p =&gt; p.Type == &quot;jti&quot;);//æ¯å€‹tokençš„è­˜åˆ¥å€¼ï¼Œå¦‚æœè¦ç¦ç”¨æŸtokenå°±å¯ä»¥æŠŠè­˜åˆ¥å€¼å­˜åˆ°è³‡æ–™åº«ç•¶é»‘åå–®</span><br><span class="line">    return Ok(jti.Value);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>3.å¢åŠ æœå‹™<br>Startup.cs</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">public void ConfigureServices(IServiceCollection services)&#123;</span><br><span class="line">  </span><br><span class="line"></span><br><span class="line">  services</span><br><span class="line">  .AddAuthentication(JwtBearerDefaults.AuthenticationScheme)</span><br><span class="line">  .AddJwtBearer(options =&gt;</span><br><span class="line">  &#123;</span><br><span class="line">  // ç•¶é©—è­‰å¤±æ•—æ™‚ï¼Œå›æ‡‰æ¨™é ­æœƒåŒ…å« WWW-Authenticate æ¨™é ­ï¼Œé€™è£¡æœƒé¡¯ç¤ºå¤±æ•—çš„è©³ç´°éŒ¯èª¤åŸå› </span><br><span class="line">  options.IncludeErrorDetails = true; // é è¨­å€¼ç‚º trueï¼Œæœ‰æ™‚æœƒç‰¹åˆ¥é—œé–‰</span><br><span class="line"></span><br><span class="line">  options.TokenValidationParameters = new TokenValidationParameters</span><br><span class="line">  &#123;</span><br><span class="line"></span><br><span class="line">    // ä¸€èˆ¬æˆ‘å€‘éƒ½æœƒé©—è­‰ Issuer</span><br><span class="line">    ValidateIssuer = true,</span><br><span class="line">    ValidIssuer = &quot;JwtAuthDemo&quot;,</span><br><span class="line"></span><br><span class="line">    // é€šå¸¸ä¸å¤ªéœ€è¦é©—è­‰ Audience</span><br><span class="line">    ValidateAudience = false,</span><br><span class="line">    //ValidAudience = &quot;JwtAuthDemo&quot;, // ä¸é©—è­‰å°±ä¸éœ€è¦å¡«å¯«</span><br><span class="line"></span><br><span class="line">    // ä¸€èˆ¬æˆ‘å€‘éƒ½æœƒé©—è­‰ Token çš„æœ‰æ•ˆæœŸé–“</span><br><span class="line">    ValidateLifetime = true,</span><br><span class="line"></span><br><span class="line">    // å¦‚æœ Token ä¸­åŒ…å« key æ‰éœ€è¦é©—è­‰ï¼Œä¸€èˆ¬éƒ½åªæœ‰ç°½ç« è€Œå·²</span><br><span class="line">    ValidateIssuerSigningKey = false,</span><br><span class="line"></span><br><span class="line">    // JWTç°½è­‰å¯†è¦ï¼Œä¹‹å¾Œå¯è‡ªè¡Œè¨­å®šåœ¨appsettings.json</span><br><span class="line">    IssuerSigningKey = new SymmetricSecurityKey(Encoding.UTF8.GetBytes(&quot;ASASA1@AAASASASASA1@AAASAS&quot;))</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>4.æ·»åŠ æˆæ¬Š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">public void Configure(IApplicationBuilder app, IWebHostEnvironment env, IApiVersionDescriptionProvider provider)</span><br><span class="line">&#123;</span><br><span class="line">        app.UseAuthentication(); </span><br><span class="line">        app.UseAuthorization();</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>5.å®Œæˆæ¸¬è©¦çµæœ:<br>å–å¾—Token</p>
<img src="/2021/10/28/C-MVC-API-Bearer-Token%E5%AF%A6%E4%BD%9C/2.png" class="">
<p>ç”¨å‰›å‰›ç”¢ç”Ÿçš„JWT Tokenå–å¾—è²æ˜</p>
<img src="/2021/10/28/C-MVC-API-Bearer-Token%E5%AF%A6%E4%BD%9C/3.png" class="">
<p>ç”¨å‰›å‰›ç”¢ç”Ÿçš„JWT Tokenå–å¾—Tokenè­˜åˆ¥å€¼</p>
<img src="/2021/10/28/C-MVC-API-Bearer-Token%E5%AF%A6%E4%BD%9C/4.png" class="">


<h3 id="ç¸½çµ"><a href="#ç¸½çµ" class="headerlink" title="ç¸½çµ"></a>ç¸½çµ</h3><p>C#åœ¨è™•ç†JWTä¸Šç®—æ˜¯è »ç°¡æ½”çš„ï¼Œä¸ç”¨å¯«å¤ªå¤šè¡Œï¼Œä¸»è¦è¤‡é›œé»å°±åœ¨Startup.cså¢åŠ æœå‹™ã€ç”¢ç”ŸTokené€™å…©å€‹æ­¥é©Ÿã€‚<br>å°ˆæ¡ˆå­˜åº«ä½ç½®:<a target="_blank" rel="noopener" href="https://github.com/yuhsiang237/ASP.NET-Core-RESTfulAPI-JWT">https://github.com/yuhsiang237/ASP.NET-Core-RESTfulAPI-JWT</a></p>
<p>ç„¶å¾Œé™„ä¸ŠDEMOå½±ç‰‡ä¸€å€‹æ˜¯ç”¨Postmanæ¸¬è©¦ï¼Œä¸€å€‹æ˜¯ç¨‹å¼ç¢¼è·‘èµ·çš„æ™‚çš„Swagger<br>swagger demo:</p>
<img src="/2021/10/28/C-MVC-API-Bearer-Token%E5%AF%A6%E4%BD%9C/demo.gif" class="">
<p>postman demo:</p>
<img src="/2021/10/28/C-MVC-API-Bearer-Token%E5%AF%A6%E4%BD%9C/postmandemo.gif" class="">



      
    </div>
    <footer class="article-footer">
      <a data-url="https://yuhsiang237.github.io/2021/10/28/C-MVC-API-Bearer-Token%E5%AF%A6%E4%BD%9C/" data-id="cme6kwo08000qgalj1p42cx2z" data-title="[Day25] C# MVC API JWT Tokené©—è­‰ (ä¸‹) JWTå¯¦ä½œ - C#&amp;AspNetCore" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-Arduino-LEDäº®ç‡ˆ" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/10/28/Arduino-LED%E4%BA%AE%E7%87%88/" class="article-date">
  <time class="dt-published" datetime="2021-10-28T09:04:44.000Z" itemprop="datePublished">2021-10-28</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Computer-Science/">Computer Science</a>â–º<a class="article-category-link" href="/categories/Computer-Science/Electronic-Circuit/">Electronic Circuit</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/10/28/Arduino-LED%E4%BA%AE%E7%87%88/">Arduinoé™æµLEDå¯¦é©—</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h3 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h3><p>æƒ³ä»¥åƒ…æœ‰çš„ææ–™åšå€‹LEDé™æµçš„å¯¦é©—ï¼Œä¸¦ä½¿ç”¨é›»è·¯å…¬å¼ç®—å‡ºç†è«–æ•¸å€¼å¯¦ä½œã€‚</p>
<h3 id="ææ–™"><a href="#ææ–™" class="headerlink" title="ææ–™"></a>ææ–™</h3><ol>
<li>LED 3MM ç´…è‰² x 1 :ç™¼å…‰äºŒæ¥µé«”</li>
<li>Arduinoç‰ˆ  x 1:ä»»æ„ä¸€å¡Šéƒ½å¯</li>
<li>220æ­å§†é›»é˜»  x 3:ç´…ç´…æ£•é‡‘</li>
</ol>
<h3 id="ç†è«–éƒ¨åˆ†"><a href="#ç†è«–éƒ¨åˆ†" class="headerlink" title="ç†è«–éƒ¨åˆ†"></a>ç†è«–éƒ¨åˆ†</h3><p>é¦–å…ˆæˆ‘å€‘Arduinoé›»æºæ¥3.3Vï¼Œè€ŒLEDç´…çš„é›»æµéœ€è¦0.02A(20mA)é›»å£“å‰‡æ˜¯2.0-2.2Vï¼Œå§‘ä¸”ç®—2.0é›»å£“ã€‚</p>
<p>é€™æ™‚3.3Væ€æ¨£é™åˆ°2.0V?å°±æ˜¯ä½¿ç”¨é›»é˜»<br>é‚£è¦å¤šå°‘æ­å§†çš„é›»é˜»å€¼å‘¢?<br>é€éæ­å§†å®šå¾‹<br>åœ¨é›»è·¯å­¸è£ï¼Œæ­å§†å®šå¾‹ï¼ˆè‹±èªï¼šOhmâ€™s lawï¼‰è¡¨æ˜ï¼Œå°é›»é«”å…©ç«¯çš„é›»å£“èˆ‡é€šéå°é›»é«”çš„é›»æµæˆæ­£æ¯”ï¼Œä»¥æ–¹ç¨‹å¼è¡¨ç¤ºã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">V=IR</span><br></pre></td></tr></table></figure>
<p>(3.3-2.0) = 0.02 * R<br>1.3 = 0.02R<br>R = 1.3/0.02<br>R = 65<br>æ‰€ä»¥æˆ‘å€‘éœ€è¦65Î©(Ohm)çš„é›»é˜»<br>ä½†å¤©æ®ºçš„= =è‚¯å®šä¸æœƒé€™éº¼å‰›å¥½æœ‰65æ­å§†çš„é›»é˜»ï¼Œé€™æ™‚å°±è¦ç”¨ç¾æœ‰çš„é›»é˜»å…œå‡ºä¾†ã€‚<br>ä¸¦è¯é›»é˜»å¯ä»¥é™ä½æ­å§†ã€‚<br>ä¾ç…§å…‹å¸Œè·å¤«é›»è·¯å®šå¾‹æ¨å€’å¾Œå¾—åˆ°ä»¥ä¸‹å…¬å¼:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Rt = 1/(1/R1+1/R2+1/R3+...+1/Rn)</span><br></pre></td></tr></table></figure>
<p>ä»¥ç¾æœ‰çš„220æ­å§†é›»é˜»è¦é™åˆ°65å°±è¦ç¨å¾®è¨ˆç®—ä¸€ä¸‹</p>
<p>3é¡†:<br>1/(1/220+1/220+1/220) = 73<br>4é¡†:<br>1/(1/220+1/220+1/220+1/220) = 55</p>
<p>ç™¼ç¾3é¡†é›»é˜»ç´„å¯ä»¥åˆ°73å¾ˆæ¥è¿‘65äº†ï¼Œç¬¬4é¡†å‰‡æ˜¯æœƒä½é65ã€‚<br>æˆ‘å€‘ä½¿ç”¨é›»é˜»æ˜¯ç‚ºäº†é™ä½é›»å£“ã€é™æµï¼Œè®“ICèƒ½å¤ æ­£å¸¸å•Ÿç”¨ä¸‹é¿å…éç†±ç‡’æ¯€ã€ç©©å®šé‹ä½œï¼Œæ‰€ä»¥å·®ä¸å¤šå°±ä½¿ç”¨3é¡†é›»é˜»ä¸¦è¯ã€‚</p>
<p>é›»è·¯åœ–</p>
<img src="/2021/10/28/Arduino-LED%E4%BA%AE%E7%87%88/%E9%9B%BB%E8%B7%AF%E5%9C%96_fx.png" class="">

<p>æ¥ç·šåœ–</p>
<img src="/2021/10/28/Arduino-LED%E4%BA%AE%E7%87%88/%E5%AF%A6%E9%9A%9B%E6%8E%A5%E7%B7%9A%E5%9C%96_fx.png" class="">

<p>ç¾å¯¦:</p>
<img src="/2021/10/28/Arduino-LED%E4%BA%AE%E7%87%88/real_fx.png" class="">

<h3 id="ç¸½çµ"><a href="#ç¸½çµ" class="headerlink" title="ç¸½çµ"></a>ç¸½çµ</h3><p>ç”¨ç†è«–å…¬å¼æ¨å¾Œå°±å¯ä»¥ç”¨ä»»æ„çš„é›»å£“ã€é›»é˜»ä¾†å…œ<br>é¿å…ICç‡’å£ã€å»¶é•·ä½¿ç”¨æ™‚é–“</p>
<p>((ps.æ‡‚äº†å¾Œæœƒè¦ºå¾—ä¸€äº›ç¯„ä¾‹æ›¸ä¸Šåªçµ¦ä¸€å€‹é›»é˜»ç„¶å¾Œä¸å‘Šè¨´ä½ ç‚ºä»€éº¼ã€æ€éº¼ç®—å¯¦åœ¨å¤ªé»‘äº†ã€‚</p>
<p><strong>åƒè€ƒè³‡æ–™</strong><br>é›»é˜»è‰²ç¢¼è¨ˆç®—<br><a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E9%9B%BB%E9%98%BB%E8%89%B2%E7%A2%BC">https://zh.wikipedia.org/wiki/%E9%9B%BB%E9%98%BB%E8%89%B2%E7%A2%BC</a><br>é›»é˜»æ”¾ç½®<br><a target="_blank" rel="noopener" href="https://zhidao.baidu.com/question/1610875004126323107.html">https://zhidao.baidu.com/question/1610875004126323107.html</a><br>é™æµé›»é˜»è¨ˆç®—å™¨<br><a target="_blank" rel="noopener" href="https://gc.digitw.com/Program/Resistor4LED/Resistor4LED.htm">https://gc.digitw.com/Program/Resistor4LED/Resistor4LED.htm</a><br>ç‚ºä»€éº¼LEDè¦åŠ ä¸Šé›»é˜»<br><a target="_blank" rel="noopener" href="http://yehnan.blogspot.com/2012/03/arduinoled220-ohm.html">http://yehnan.blogspot.com/2012/03/arduinoled220-ohm.html</a><br>æ§åˆ¶LED<br><a target="_blank" rel="noopener" href="https://blog.jmaker.com.tw/arduino-tutorials-3/">https://blog.jmaker.com.tw/arduino-tutorials-3/</a><br>æ­å§†å®šå¾‹<br><a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E6%AC%A7%E5%A7%86%E5%AE%9A%E5%BE%8B">https://zh.wikipedia.org/wiki/%E6%AC%A7%E5%A7%86%E5%AE%9A%E5%BE%8B</a><br>ä¸¦è¯é›»è·¯<br><a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E4%B8%A6%E8%81%AF%E9%9B%BB%E8%B7%AF#%E9%9B%BB%E9%98%BB%E5%99%A8">https://zh.wikipedia.org/wiki/%E4%B8%A6%E8%81%AF%E9%9B%BB%E8%B7%AF#%E9%9B%BB%E9%98%BB%E5%99%A8</a><br>å…‹å¸Œè·å¤«é›»è·¯å®šå¾‹<br><a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E5%9F%BA%E7%88%BE%E9%9C%8D%E5%A4%AB%E9%9B%BB%E8%B7%AF%E5%AE%9A%E5%BE%8B#%E5%9F%BA%E7%88%BE%E9%9C%8D%E5%A4%AB%E9%9B%BB%E6%B5%81%E5%AE%9A%E5%BE%8B%EF%BC%88KCL%EF%BC%89">https://zh.wikipedia.org/wiki/%E5%9F%BA%E7%88%BE%E9%9C%8D%E5%A4%AB%E9%9B%BB%E8%B7%AF%E5%AE%9A%E5%BE%8B#%E5%9F%BA%E7%88%BE%E9%9C%8D%E5%A4%AB%E9%9B%BB%E6%B5%81%E5%AE%9A%E5%BE%8B%EF%BC%88KCL%EF%BC%89</a><br>æ­å§†å®šå¾‹<br><a target="_blank" rel="noopener" href="https://physcourse.thu.edu.tw/mengwen/%E6%99%AE%E7%89%A9%E5%AF%A6%E9%A9%97/%E5%AF%A6%E9%A9%97%E9%A0%85%E7%9B%AE/%E6%AD%90%E5%A7%86%E5%AE%9A%E5%BE%8B/">https://physcourse.thu.edu.tw/mengwen/%E6%99%AE%E7%89%A9%E5%AF%A6%E9%A9%97/%E5%AF%A6%E9%A9%97%E9%A0%85%E7%9B%AE/%E6%AD%90%E5%A7%86%E5%AE%9A%E5%BE%8B/</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://yuhsiang237.github.io/2021/10/28/Arduino-LED%E4%BA%AE%E7%87%88/" data-id="cme6kwnzt0005galj0n4z4n80" data-title="Arduinoé™æµLEDå¯¦é©—" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-C-MVC-API-Bearer-Tokené©—è­‰" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/10/27/C-MVC-API-Bearer-Token%E9%A9%97%E8%AD%89/" class="article-date">
  <time class="dt-published" datetime="2021-10-27T13:57:47.000Z" itemprop="datePublished">2021-10-27</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Code/">Code</a>â–º<a class="article-category-link" href="/categories/Code/C/">C#</a>â–º<a class="article-category-link" href="/categories/Framework/">Framework</a>â–º<a class="article-category-link" href="/categories/Framework/AspNetCore-API/">AspNetCore API</a>â–º<a class="article-category-link" href="/categories/Topic/">Topic</a>â–º<a class="article-category-link" href="/categories/Topic/2021-C-AspNetCore-Challenge/">2021 C# AspNetCore Challenge</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/10/27/C-MVC-API-Bearer-Token%E9%A9%97%E8%AD%89/">[Day24] C# MVC API JWT Tokené©—è­‰ (ä¸Š) JWTåŸºç¤çŸ¥è­˜ - C#&amp;AspNetCore</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>åœ¨å…ˆå‰æœ‰ä»‹ç´¹éCookie-Basedé©—è­‰æ–¼MVCå°ˆæ¡ˆè£¡ã€‚</p>
<a href="/2021/10/07/C-MVC-%E9%A9%97%E8%AD%89%E8%88%87%E6%8E%88%E6%AC%8A%E7%99%BB%E5%85%A5%E8%88%87%E7%99%BB%E5%87%BA/" title="[Day12] C# MVC é©—è­‰èˆ‡æˆæ¬Šï¼Œç™»å…¥èˆ‡ç™»å‡º - C#&amp;AspNetCore">[Day12] C# MVC é©—è­‰èˆ‡æˆæ¬Šï¼Œç™»å…¥èˆ‡ç™»å‡º - C#&amp;AspNetCore</a>

<p>è€Œé€™å›ä¸»è¦æ¢è¨çš„æ˜¯Token-Basedé©—è­‰ï¼Œä¹Ÿå°±æ˜¯APIå¸¸ç”¨çš„JWT (Json Web Token)ã€‚</p>
<h3 id="ä»€éº¼æ˜¯JWT"><a href="#ä»€éº¼æ˜¯JWT" class="headerlink" title="ä»€éº¼æ˜¯JWT"></a>ä»€éº¼æ˜¯JWT</h3><p>JSON Web Token (JWT) is a proposed Internet standard for creating data with optional signature and/or optional encryption whose payload holds JSON that asserts some number of claims. </p>
<p>ç‚ºJSON Web Tokenï¼Œæ˜¯ä¸€å€‹å»ºè­°çš„ç¶²è·¯æ¨™æº–ï¼Œç”¨ä¾†å»ºç«‹ç°½åï¼Œä¸”åœ¨å…¶ä¸­å¯ä»¥è¦–éœ€æ±‚åŠ å…¥è‡ªè¨‚çš„JSONå…§å®¹ã€‚</p>
<p>ç°¡è¨€ä¹‹ï¼Œå°±æ˜¯ä»¤ç‰Œ(Token)ï¼Œä½ å¯ä»¥æ‹¿é€™ä»¤ç‰Œå»è¦è³‡æ–™ã€‚</p>
<h3 id="JWTå„ªé»"><a href="#JWTå„ªé»" class="headerlink" title="JWTå„ªé»"></a>JWTå„ªé»</h3><p>è·¨åŸŸ: ä¸å—ç¶²åŸŸé™åˆ¶ï¼Œå¯ç”¨ä¾†ä¸²æ¥ç¬¬ä¸‰æ–¹æ‡‰ç”¨ï¼Œå¦‚ OAuthã€‚<br>å®‰å…¨æ€§: ä¸ä½¿ç”¨ Cookie å› æ­¤ä¸æœƒå—åˆ° CSRF æ”»æ“Šï¼Œä¸é Token ä¸¦ä¸èƒ½é˜²è­· XSS æ”»æ“Šï¼Œé‚„æ˜¯éœ€è¦ç‰¹åˆ¥æ³¨æ„ã€‚<br>è¡Œå‹•ç«¯: å¯ç”¨æ–¼ä¸æ”¯æ´ Cookie çš„è£ç½®ä¸Šï¼Œä¸”ç¾åœ¨ç¶²ç«™å’Œ APP ä¸²æ¥æ™®éä½¿ç”¨ Token æˆæ¬Šã€‚</p>
<h3 id="JWTæ ¼å¼"><a href="#JWTæ ¼å¼" class="headerlink" title="JWTæ ¼å¼"></a>JWTæ ¼å¼</h3><p>ä¸»è¦ç”±ä¸‰å€‹éƒ¨åˆ†çµ„æˆ:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">header.payload.signature</span><br></pre></td></tr></table></figure>


<p><strong>Header</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;alg&quot;: &quot;HS256&quot;,</span><br><span class="line">  &quot;typ&quot;: &quot;JWT&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>alg:å®šç¾©åŠ å¯†çš„æ–¹å¼ç”¢ç”Ÿsignatureï¼Œå¦‚ä¸Šæ˜¯HS256è¡¨ç¤ºä½¿ç”¨æ˜¯HMAC-SHA256.<br>typ:Tokené¡å‹</p>
<p>å¸¸è¢«ä½¿ç”¨çš„headerå¦‚:typã€ctyã€algã€kidã€x5cã€x5uã€crit<br>å¯è‡ªè¡Œæ·»åŠ åƒè€ƒ:<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/JSON_Web_Token">https://en.wikipedia.org/wiki/JSON_Web_Token</a></p>
<p><strong>Payload</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;loggedInAs&quot;: &quot;admin&quot;,</span><br><span class="line">  &quot;iat&quot;: 1422779638</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>loggedInAs:é€™æ˜¯å®¢è£½åŒ–claimï¼Œä»¥æ­¤ä¾†èªªæ˜¯ç®¡ç†å“¡ã€‚<br>iat:é€™æ˜¯æ¨™æº–çš„claimï¼Œè¡¨ç¤ºæ­¤JWTç™¼å¸ƒçš„æ™‚é–“ã€‚</p>
<p>æ¨™æº–çš„claimå¦‚:issã€subã€audã€expã€nbfã€iatã€jti<br>å¯è‡ªè¡Œæ·»åŠ åƒè€ƒ:<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/JSON_Web_Token">https://en.wikipedia.org/wiki/JSON_Web_Token</a></p>
<p>é€šå¸¸ç‚ºäº†è®“å‰ç«¯æˆ–å¾Œç«¯å¥½å­˜å–å¤šåŠ ä¸Šä¸€äº›è­˜åˆ¥å€¼ã€‚</p>
<p><strong>Signature</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">HMAC_SHA256(</span><br><span class="line">  secret,</span><br><span class="line">  base64urlEncoding(header) + &#x27;.&#x27; +</span><br><span class="line">  base64urlEncoding(payload)</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p>ç°½åï¼Œç¢ºä¿è³‡æ–™å®Œæ•´æ€§çš„é›œæ¹Šç°½ç« ã€‚</p>
<p>å°‡ä»¥ä¸Šä¸‰è€…ç”¨Base64url Encodingçµæœå³ç‚ºJWT</p>
<p>ç”Ÿæˆ:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">const token = base64urlEncoding(header) + &#x27;.&#x27; + base64urlEncoding(payload) + &#x27;.&#x27; + base64urlEncoding(signature)</span><br></pre></td></tr></table></figure>
<p>çµæœ:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJsb2dnZWRJbkFzIjoiYWRtaW4iLCJpYXQiOjE0MjI3Nzk2Mzh9.gzSraSYS8EXBxLN_oWnFSRgCzcmJmMjLiuyu5CSpyHI</span><br></pre></td></tr></table></figure>

<h3 id="ä½¿ç”¨æƒ…å¢ƒ"><a href="#ä½¿ç”¨æƒ…å¢ƒ" class="headerlink" title="ä½¿ç”¨æƒ…å¢ƒ"></a>ä½¿ç”¨æƒ…å¢ƒ</h3><p>å°‡æ­¤Tokenæ”¾ç½®æ–¼APIè«‹æ±‚çš„Headerä¸­:<br>ä¾‹å¦‚:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJsb2dnZWRJbkFzIjoiYWRtaW4iLCJpYXQiOjE0MjI3Nzk2Mzh9.gzSraSYS8EXBxLN_oWnFSRgCzcmJmMjLiuyu5CSpyHI</span><br></pre></td></tr></table></figure>
<p>å‚³é€çµ¦å¾Œç«¯</p>
<h3 id="JWTè¡ä¼¸å•é¡Œ"><a href="#JWTè¡ä¼¸å•é¡Œ" class="headerlink" title="JWTè¡ä¼¸å•é¡Œ"></a>JWTè¡ä¼¸å•é¡Œ</h3><p>Tokençš„ç«Šå–å•é¡Œï¼Œå› ç‚ºJWTç™¼å‡ºå»å°±ä¸èƒ½éŠ·æ¯€ï¼Œåªèƒ½è‡ªå·±ç­‰å¾…éæœŸã€‚<br>æ‰€ä»¥æœ‰äº†<code>Refresh Token</code>çš„å‡ºç¾ã€‚</p>
<p>ä½¿ç”¨Refresh Tokenå¾Œ:<br>ç¸®çŸ­æ¯å€‹Tokenæ™‚é–“ï¼ŒéæœŸæ™‚å†é‡æ–°ç´¢å–ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;access_token&quot;:&quot;l0XG52TQx&quot;,    //Token</span><br><span class="line">  &quot;refresh_token&quot;:&quot;KWI3JOkFA&quot;,   //Refresh Token</span><br><span class="line">  &quot;expires_in&quot;:3600              //å¹¾ç§’éæœŸ</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç•¶TokenéæœŸå¾Œï¼Œä½¿ç”¨refresh_tokenå‘¼å«ä¸€å€‹APIè¦å–ä¸€å€‹æ–°Tokenã€‚<br>refresh_tokenæ˜¯å­˜åœ¨è‡ªå·±è³‡æ–™åº«å…§çš„ï¼Œæ‰€ä»¥è¢«ç›œç”¨å¯ä»¥é¦¬ä¸Šåˆªé™¤æ‰!</p>
<p>åœ¨å¯«ç¨‹å¼ç¢¼æ™‚å¯ä»¥åœ¨æŸAPIç™¼ç¾éæœŸå¾Œç«‹å³å‘¼å«æ›´æ›ã€‚<br>æˆ–æ˜¯ç”¨Tokenè£¡é¢å¸¶å…¥çš„payloadå»ç¢ºèªæ›´æ›æ™‚æ©Ÿä¹Ÿå¯ä»¥ï¼Œä½†å¯èƒ½æœƒæœ‰æ™‚å€å•é¡Œã€‚</p>
<p>æ­¤å¤–ï¼Œå¦‚æœç”¨Refresh Tokenä»æœƒæœ‰ä¸€äº›å®‰å…¨ç–‘æ…®ï¼Œå°±æ˜¯ç™¼å‡ºçš„tokené‚„æ˜¯è¦ç­‰åˆ°æ™‚é–“è‡ªå·±é€¾æœŸã€‚<br>(ä¸å¦‚è‡ªå·±å»ºè¡¨è¨˜Tokené‚„æ¯”è¼ƒå®‰å…¨ï¼Œæ‰€ä»¥åœ¨ä¸‹é¢æˆ‘å¯«äº†é¡å¤–è£œå……)</p>
<h3 id="é¡å¤–è£œå……"><a href="#é¡å¤–è£œå……" class="headerlink" title="é¡å¤–è£œå……"></a>é¡å¤–è£œå……</h3><p>é™¤äº†JWTå¤–ä¹Ÿæœ‰ä¸€äº›è‡ªè¨‚çš„åšæ³•èƒ½ç”¨ä¾†é©—è­‰APPæ‰‹æ©Ÿç«¯ã€‚<br>å¦‚DBè‡ªå»ºTokenè¡¨ï¼Œå¯èƒ½åƒæ˜¯é€™æ¨£:</p>
<p>æ¯æ¬¡æ“ä½œAPIéƒ½å¸¶å…¥Tokenï¼ŒDBæª¢é©—ä¸€æ¬¡ã€‚<br>è¢«ç›œç”¨æ™‚æƒ³åˆªéš¨æ™‚èƒ½åˆªã€èƒ½å¼·åˆ¶ç™»å‡ºã€‚</p>
<p><strong>Tokensè³‡æ–™è¡¨</strong></p>
<table>
<tr>
<th>UserID</th>
<th>Token</th>
<th>Expires_In</th>
</tr>
<tr>
<td>1</td>
<td>AJIASOIASssarJ</td>
<td>2021-10-16</td>
</tr>
<tr>
<td>2</td>
<td>AASKOPASKOAPaS</td>
<td>2021-10-17</td>
</tr>
<tr>
<td>3</td>
<td>AASK45as4daaS</td>
<td>2021-10-14</td>
</tr>
</table>

<p>æµç¨‹å¤§æ¦‚åƒé€™æ¨£:<br>API&gt;æ’ˆDBæª¢æŸ¥&gt;å¤§æ–¼æ™‚é–“ï¼Œåˆªé™¤Token&gt;å›å‚³æˆæ¬Šå¤±æ•—</p>
<p>é›–ç„¶æ¯”è¼ƒè€—è³‡æ–™åº«è³‡æºä½†æˆ‘è¦ºå¾—æ˜¯æœ€å®‰å…¨çš„æ–¹å¼XDã€‚<br>è€Œä¸”æ²’æœ‰ç™¼å‡ºè¦ç­‰åˆ°æ™‚é–“åˆ°æ‰æœƒé€¾æœŸçš„å•é¡Œ</p>
<h3 id="ç¸½çµ"><a href="#ç¸½çµ" class="headerlink" title="ç¸½çµ"></a>ç¸½çµ</h3><p>åœ¨é€™å›ä¸­ä¸»è¦æ¢è¨JWTæ˜¯ä»€éº¼ã€å‰ç½®çš„çŸ¥è­˜ç†è«–ã€‚<br>ç™¼ç¾äº†JWTçš„ä¸€äº›å¥½è™•èˆ‡å£è™•ã€‚</p>
<p>å› æ­¤å¦‚æœæœ‰ç–‘æ…®å¥½åƒè‡ªå·±å»ºç«‹Tokenè¡¨é‚„æ˜¯æœ€å®‰å…¨çš„XD</p>
<p>è€Œåœ¨ä¸‹ç¯‡ä¸­å°‡æœƒå¯¦ä½œJWTçš„æ©Ÿåˆ¶ã€‚</p>
<p><strong>åƒè€ƒè³‡æ–™</strong><br><a target="_blank" rel="noopener" href="https://ithelp.ithome.com.tw/articles/10199102">https://ithelp.ithome.com.tw/articles/10199102</a><br><a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/JSON_Web_Token">https://en.wikipedia.org/wiki/JSON_Web_Token</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://yuhsiang237.github.io/2021/10/27/C-MVC-API-Bearer-Token%E9%A9%97%E8%AD%89/" data-id="cme6kwo07000ngalja1kjdumx" data-title="[Day24] C# MVC API JWT Tokené©—è­‰ (ä¸Š) JWTåŸºç¤çŸ¥è­˜ - C#&amp;AspNetCore" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-C-MVC-Web-APIå¢åŠ Swagger" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/10/26/C-MVC-Web-API%E5%A2%9E%E5%8A%A0Swagger/" class="article-date">
  <time class="dt-published" datetime="2021-10-26T11:59:32.000Z" itemprop="datePublished">2021-10-26</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Code/">Code</a>â–º<a class="article-category-link" href="/categories/Code/C/">C#</a>â–º<a class="article-category-link" href="/categories/Topic/">Topic</a>â–º<a class="article-category-link" href="/categories/Topic/2021-C-AspNetCore-Challenge/">2021 C# AspNetCore Challenge</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/10/26/C-MVC-Web-API%E5%A2%9E%E5%8A%A0Swagger/">[Day23] C# MVC Web APIç‰ˆæœ¬å¢åŠ Swagger - C#&amp;AspNetCore</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>åœ¨ä¸Šå›ä¸­æˆ‘å€‘ä»‹ç´¹äº† <a href="/2021/10/19/C-MVC-API%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6/" title="[Day22] C# MVC APIç‰ˆæœ¬æ§åˆ¶ - C#&amp;AspNetCore">[Day22] C# MVC APIç‰ˆæœ¬æ§åˆ¶ - C#&amp;AspNetCore</a> ï¼Œå¯¦ä½œäº†RESTful APIçš„ç‰ˆæ§ã€‚</p>
<p>è€Œé€™å›å°‡è¦é€²è¡ŒAPIçš„éƒ¨å±¬ï¼Œä½¿ç”¨Swagger UIã€‚</p>
<p>æ‰¾äº†å¾ˆå¤šç¯‡ç®—æ˜¯æ‰¾åˆ°ä¸€ç¯‡<br><a target="_blank" rel="noopener" href="https://codingfreaks.de/dotnet-core-api-versioning/">https://codingfreaks.de/dotnet-core-api-versioning/</a><br>å¯ä»¥åŒæ™‚ä½¿ç”¨API Versioningè·ŸSwaggerå¥—ä»¶çš„ç¯„ä¾‹</p>
<p>åœ¨é€™ç¯‡ä¸­ä¸»è¦é…ç½®APIä¸¦ä¸”åˆ‡ç‰ˆæœ¬</p>
<p>1.å…ˆç”¨Nugetå®‰è£ä»¥ä¸‹å¥—ä»¶:<br>Swashbuckle.AspNetCore<br>Swashbuckle.AspNetCore.Annotations<br>Swashbuckle.AspNetCore.Swagger<br>Swashbuckle.AspNetCore.SwaggerGen<br>Swashbuckle.AspNetCore.SwaggerUI</p>
<img src="/2021/10/26/C-MVC-Web-API%E5%A2%9E%E5%8A%A0Swagger/4.png" class="">

<p>2.å†ä¾†æ˜¯æˆ‘å€‘è¦ä¿®æ”¹çš„æª”æ¡ˆ</p>
<img src="/2021/10/26/C-MVC-Web-API%E5%A2%9E%E5%8A%A0Swagger/5.png" class="">

<p>é¦–å…ˆæ˜¯Swaggerçš„å®šç¾©é¡åˆ¥</p>
<p><strong>~/ConfigureSwaggerOptions.cs</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br></pre></td><td class="code"><pre><span class="line">namespace ApiVersioningSample</span><br><span class="line">&#123;</span><br><span class="line">    using System;</span><br><span class="line">    using System.Linq;</span><br><span class="line"></span><br><span class="line">    using Microsoft.AspNetCore.Mvc.ApiExplorer;</span><br><span class="line">    using Microsoft.Extensions.DependencyInjection;</span><br><span class="line">    using Microsoft.Extensions.Options;</span><br><span class="line">    using Microsoft.OpenApi.Models;</span><br><span class="line"></span><br><span class="line">    using Swashbuckle.AspNetCore.SwaggerGen;</span><br><span class="line"></span><br><span class="line">    /// &lt;summary&gt;</span><br><span class="line">    /// Configures the Swagger generation options.</span><br><span class="line">    /// &lt;/summary&gt;</span><br><span class="line">    /// &lt;remarks&gt;</span><br><span class="line">    /// &lt;para&gt;</span><br><span class="line">    /// This allows API versioning to define a Swagger document per API version after the</span><br><span class="line">    /// &lt;see cref=&quot;IApiVersionDescriptionProvider&quot; /&gt; service has been resolved from the service container.</span><br><span class="line">    /// &lt;/para&gt;</span><br><span class="line">    /// &lt;para&gt;Taken from https://github.com/microsoft/aspnet-api-versioning.&lt;/para&gt;</span><br><span class="line">    /// &lt;/remarks&gt;</span><br><span class="line">    public class ConfigureSwaggerOptions : IConfigureOptions&lt;SwaggerGenOptions&gt;</span><br><span class="line">    &#123;</span><br><span class="line">        #region member vars</span><br><span class="line"></span><br><span class="line">        private readonly IApiVersionDescriptionProvider _provider;</span><br><span class="line"></span><br><span class="line">        #endregion</span><br><span class="line"></span><br><span class="line">        #region constructors and destructors</span><br><span class="line"></span><br><span class="line">        /// &lt;summary&gt;</span><br><span class="line">        /// Initializes a new instance of the &lt;see cref=&quot;ConfigureSwaggerOptions&quot; /&gt; class.</span><br><span class="line">        /// &lt;/summary&gt;</span><br><span class="line">        /// &lt;param name=&quot;provider&quot;&gt;</span><br><span class="line">        /// The &lt;see cref=&quot;IApiVersionDescriptionProvider&quot;&gt;provider&lt;/see&gt; used to generate Swagger</span><br><span class="line">        /// documents.</span><br><span class="line">        /// &lt;/param&gt;</span><br><span class="line">        public ConfigureSwaggerOptions(IApiVersionDescriptionProvider provider)</span><br><span class="line">        &#123;</span><br><span class="line">            _provider = provider;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        #endregion</span><br><span class="line"></span><br><span class="line">        #region explicit interfaces</span><br><span class="line"></span><br><span class="line">        /// &lt;inheritdoc /&gt;</span><br><span class="line">        public void Configure(SwaggerGenOptions options)</span><br><span class="line">        &#123;</span><br><span class="line">            // add a swagger document for each discovered API version</span><br><span class="line">            // note: you might choose to skip or document deprecated API versions differently</span><br><span class="line">            foreach (var description in _provider.ApiVersionDescriptions)</span><br><span class="line">            &#123;</span><br><span class="line">                options.SwaggerDoc(description.GroupName, CreateInfoForApiVersion(description));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        #endregion</span><br><span class="line"></span><br><span class="line">        #region methods</span><br><span class="line"></span><br><span class="line">        /// &lt;summary&gt;</span><br><span class="line">        /// Internal implementation for building the Swagger basic config.</span><br><span class="line">        /// &lt;/summary&gt;</span><br><span class="line">        /// &lt;param name=&quot;description&quot;&gt;The description object containing the.&lt;/param&gt;</span><br><span class="line">        /// &lt;returns&gt;The generated Open API info.&lt;/returns&gt;</span><br><span class="line">        private static OpenApiInfo CreateInfoForApiVersion(ApiVersionDescription description)</span><br><span class="line">        &#123;</span><br><span class="line">            var info = new OpenApiInfo</span><br><span class="line">            &#123;</span><br><span class="line">                Title = &quot;Sample API&quot;,</span><br><span class="line">                Version = description.ApiVersion.ToString(),</span><br><span class="line">                Description = @&quot;&lt;p&gt;Sample API with versioning including Swagger.&lt;/p&gt;&lt;p&gt;Partly taken from &lt;a href=&quot;&quot;https://github.com/microsoft/aspnet-api-versioning&quot;&quot;&gt;this repository&lt;/a&gt;.&lt;/p&gt;&quot;,</span><br><span class="line">                Contact = new OpenApiContact</span><br><span class="line">                &#123;</span><br><span class="line">                    Name = &quot;Yu Hsiang&quot;,</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;;</span><br><span class="line">            if (description.IsDeprecated)</span><br><span class="line">            &#123;</span><br><span class="line">                info.Description += @&quot;&lt;p&gt;&lt;strong&gt;&lt;span style=&quot;&quot;color:white;background-color:red&quot;&quot;&gt;VERSION IS DEPRECATED&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&quot;;</span><br><span class="line">            &#125;</span><br><span class="line">            return info;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        #endregion</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>é€™é¡åˆ¥ä¸»è¦ç”¨ä¾†æ”¾Swaggerå®¢è£½åŒ–çš„æ•¸å€¼</p>
<p>å†ä¾†æ˜¯å•Ÿç”¨Swagger</p>
<p><strong>~/Startup.cs</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br></pre></td><td class="code"><pre><span class="line">using Microsoft.AspNetCore.Builder;</span><br><span class="line">using Microsoft.AspNetCore.Hosting;</span><br><span class="line">using Microsoft.AspNetCore.HttpsPolicy;</span><br><span class="line">using Microsoft.AspNetCore.Mvc;</span><br><span class="line">using Microsoft.Extensions.Configuration;</span><br><span class="line">using Microsoft.Extensions.DependencyInjection;</span><br><span class="line">using Microsoft.Extensions.Hosting;</span><br><span class="line">using Microsoft.Extensions.Logging;</span><br><span class="line">using System;</span><br><span class="line">using System.Collections.Generic;</span><br><span class="line">using System.Linq;</span><br><span class="line">using System.Threading.Tasks;</span><br><span class="line">using Microsoft.EntityFrameworkCore;</span><br><span class="line">using TodoAPI.Models;</span><br><span class="line">using Microsoft.OpenApi.Models;</span><br><span class="line">using Swashbuckle.AspNetCore.SwaggerGen;</span><br><span class="line">using Microsoft.Extensions.Options;</span><br><span class="line">using ApiVersioningSample;</span><br><span class="line">using Microsoft.AspNetCore.Mvc.ApiExplorer;</span><br><span class="line"></span><br><span class="line">namespace TodoAPI</span><br><span class="line">&#123;</span><br><span class="line">    public class Startup</span><br><span class="line">    &#123;</span><br><span class="line">        public Startup(IConfiguration configuration)</span><br><span class="line">        &#123;</span><br><span class="line">            Configuration = configuration;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        public IConfiguration Configuration &#123; get; &#125;</span><br><span class="line"></span><br><span class="line">        // This method gets called by the runtime. Use this method to add services to the container.</span><br><span class="line">        public void ConfigureServices(IServiceCollection services)</span><br><span class="line">        &#123;</span><br><span class="line">            services.AddControllers();</span><br><span class="line">            // è³‡æ–™åº«é…ç½®</span><br><span class="line">            var connection = @&quot;Server=.\SQLExpress;Database=TodoDB;Trusted_Connection=True;ConnectRetryCount=0&quot;;</span><br><span class="line">            services.AddDbContext&lt;TodoDBContext&gt;(options =&gt; options.UseSqlServer(connection));</span><br><span class="line"></span><br><span class="line">            // å•Ÿç”¨APIç‰ˆæ§åŠŸèƒ½</span><br><span class="line">            services.AddApiVersioning(</span><br><span class="line">              options =&gt;</span><br><span class="line">              &#123;</span><br><span class="line">                    // reporting api versions will return the headers &quot;api-supported-versions&quot; and &quot;api-deprecated-versions&quot;</span><br><span class="line">                    options.ReportApiVersions = true;</span><br><span class="line">              &#125;);</span><br><span class="line"></span><br><span class="line">            // swagger é…ç½®</span><br><span class="line">            services.AddVersionedApiExplorer(</span><br><span class="line">                options =&gt;</span><br><span class="line">                &#123;</span><br><span class="line">                    // add the versioned api explorer, which also adds IApiVersionDescriptionProvider service</span><br><span class="line">                    // note: the specified format code will format the version as &quot;&#x27;v&#x27;major[.minor][-status]&quot;</span><br><span class="line">                    options.GroupNameFormat = &quot;&#x27;v&#x27;VVV&quot;;</span><br><span class="line">                    // note: this option is only necessary when versioning by url segment. the SubstitutionFormat</span><br><span class="line">                    // can also be used to control the format of the API version in route templates</span><br><span class="line">                    options.SubstituteApiVersionInUrl = true;</span><br><span class="line">                &#125;);</span><br><span class="line">            services.AddTransient&lt;IConfigureOptions&lt;SwaggerGenOptions&gt;, ConfigureSwaggerOptions&gt;();</span><br><span class="line">            services.AddSwaggerGen();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        // This method gets called by the runtime. Use this method to configure the HTTP request pipeline.</span><br><span class="line">        public void Configure(IApplicationBuilder app, IWebHostEnvironment env, IApiVersionDescriptionProvider provider)</span><br><span class="line">        &#123;</span><br><span class="line">            if (env.IsDevelopment())</span><br><span class="line">            &#123;</span><br><span class="line">                app.UseDeveloperExceptionPage();</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            app.UseHttpsRedirection();</span><br><span class="line"></span><br><span class="line">            app.UseRouting();</span><br><span class="line"></span><br><span class="line">            app.UseAuthorization();</span><br><span class="line">            </span><br><span class="line">            // swagger é…ç½®</span><br><span class="line">            app.UseSwagger();</span><br><span class="line">            app.UseSwaggerUI(</span><br><span class="line">                options =&gt;</span><br><span class="line">                &#123;</span><br><span class="line">                    // build a swagger endpoint for each discovered API version</span><br><span class="line">                    foreach (var description in provider.ApiVersionDescriptions)</span><br><span class="line">                    &#123;</span><br><span class="line">                        options.SwaggerEndpoint($&quot;/swagger/&#123;description.GroupName&#125;/swagger.json&quot;, description.GroupName.ToUpperInvariant());</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">            app.UseEndpoints(endpoints =&gt;</span><br><span class="line">            &#123;</span><br><span class="line">                endpoints.MapControllers();</span><br><span class="line"></span><br><span class="line">            &#125;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>ç¬¬48ï½60è¡Œ:swagger é…ç½®<br>ç¬¬79ï½89è¡Œ:swagger é…ç½®</p>
<p>4.ç‰ˆæœ¬çš„é¡åˆ¥æ’°å¯«:</p>
<p><strong>~/Controllers/V1_1/VersionController.cs</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">using System.Collections.Generic;</span><br><span class="line">using Microsoft.AspNetCore.Mvc;</span><br><span class="line"></span><br><span class="line">namespace TodoAPI.Controllers.V1_1</span><br><span class="line">&#123;</span><br><span class="line">    [ApiVersion(&quot;1.1&quot;)]</span><br><span class="line">    [Route(&quot;api/v&#123;version:apiVersion&#125;/[controller]&quot;)]</span><br><span class="line">    [ApiController]</span><br><span class="line">    public class VersionController : ControllerBase</span><br><span class="line">    &#123;</span><br><span class="line">        [HttpGet]</span><br><span class="line">        public IEnumerable&lt;string&gt; Get()</span><br><span class="line">        &#123;</span><br><span class="line">            return new string[] &#123; &quot;api v1.1&quot; &#125;;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>~/Controllers/V1_1/VersionController.cs</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">using System.Collections.Generic;</span><br><span class="line">using Microsoft.AspNetCore.Mvc;</span><br><span class="line"></span><br><span class="line">namespace TodoAPI.Controllers.V1_1</span><br><span class="line">&#123;</span><br><span class="line">    [ApiVersion(&quot;1.1&quot;)]</span><br><span class="line">    [Route(&quot;api/v&#123;version:apiVersion&#125;/[controller]&quot;)]</span><br><span class="line">    [ApiController]</span><br><span class="line">    public class VersionController : ControllerBase</span><br><span class="line">    &#123;</span><br><span class="line">        [HttpGet]</span><br><span class="line">        public IEnumerable&lt;string&gt; Get()</span><br><span class="line">        &#123;</span><br><span class="line">            return new string[] &#123; &quot;api v1.1&quot; &#125;;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><strong>~/Controllers/V2_0/VersionController.cs</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">using System.Collections.Generic;</span><br><span class="line">using Microsoft.AspNetCore.Mvc;</span><br><span class="line"></span><br><span class="line">namespace TodoAPI.Controllers.V2_0</span><br><span class="line">&#123;</span><br><span class="line">    [ApiVersion(&quot;2.0&quot;)]</span><br><span class="line">    [Route(&quot;api/v&#123;version:apiVersion&#125;/[controller]&quot;)]</span><br><span class="line">    [ApiController]</span><br><span class="line">    public class VersionController : ControllerBase</span><br><span class="line">    &#123;</span><br><span class="line">        [HttpGet]</span><br><span class="line">        public IEnumerable&lt;string&gt; Get()</span><br><span class="line">        &#123;</span><br><span class="line">            return new string[] &#123; &quot;api v2.0&quot; &#125;;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>åŸºæœ¬ä¸Šå°±æ˜¯æ”¹<br>ç¬¬4è¡Œè³‡æ–™å¤¾:V1_0 è‡³ V1_1 è‡³ V2_0<br>ç¬¬6è¡ŒApiVersion:1.0 è‡³ 1.1 è‡³ 2.0<br>å…¶ä»–çš„Controllerä¹Ÿæ˜¯ä¸€æ¨£ï¼Œé€™é‚Šå°±èˆ‰ä¾‹VersionController.cs</p>
<p>5.å•Ÿç”¨å¾Œç¯„ä¾‹:</p>
<img src="/2021/10/26/C-MVC-Web-API%E5%A2%9E%E5%8A%A0Swagger/demo.gif" class="">

<h3 id="å°ˆæ¡ˆé€£çµ"><a href="#å°ˆæ¡ˆé€£çµ" class="headerlink" title="å°ˆæ¡ˆé€£çµ"></a>å°ˆæ¡ˆé€£çµ</h3><p><a target="_blank" rel="noopener" href="https://github.com/yuhsiang237/ASP.NET-Core-RESTfulAPI-Swagger">https://github.com/yuhsiang237/ASP.NET-Core-RESTfulAPI-Swagger</a></p>
<h3 id="ç¸½è¦½"><a href="#ç¸½è¦½" class="headerlink" title="ç¸½è¦½"></a>ç¸½è¦½</h3><p>Swagger UIæ­é…ç‰ˆæ§ï¼Œè€Œåœ¨.net Coreå®˜æ–¹æ˜¯æ²’æœ‰æä¾›ç‰ˆæœ¬+Swaggeré…ç½®çš„ï¼Œæ‰€ä»¥è¸©å¾ˆå¤šé›·ã€‚<br>é€™å›åƒè€ƒäº† <a target="_blank" rel="noopener" href="https://codingfreaks.de/dotnet-core-api-versioning/">https://codingfreaks.de/dotnet-core-api-versioning/</a> çš„æ–‡ç« ã€‚<br>èŠ±äº†ä¸å°‘æ™‚é–“åœ¨é™¤éŒ¯ï¼Œæœ€å¾Œçµ‚æ–¼æŠŠSwaggeræ­å»ºèµ·ä¾†ã€‚</p>
<p><strong>åƒè€ƒè³‡æ–™</strong><br><a target="_blank" rel="noopener" href="https://codingfreaks.de/dotnet-core-api-versioning/">https://codingfreaks.de/dotnet-core-api-versioning/</a><br><a target="_blank" rel="noopener" href="https://docs.microsoft.com/zh-tw/aspnet/core/tutorials/getting-started-with-swashbuckle?view=aspnetcore-3.1&amp;tabs=visual-studio">https://docs.microsoft.com/zh-tw/aspnet/core/tutorials/getting-started-with-swashbuckle?view=aspnetcore-3.1&amp;tabs=visual-studio</a><br><a target="_blank" rel="noopener" href="https://medium.com/wenchin-rolls-around/%E8%BB%9F%E9%AB%94%E7%89%88%E6%9C%AC%E8%99%9F-ee446e1ad543">https://medium.com/wenchin-rolls-around/%E8%BB%9F%E9%AB%94%E7%89%88%E6%9C%AC%E8%99%9F-ee446e1ad543</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://yuhsiang237.github.io/2021/10/26/C-MVC-Web-API%E5%A2%9E%E5%8A%A0Swagger/" data-id="cme6kwo0n001ggalj7ckk47m9" data-title="[Day23] C# MVC Web APIç‰ˆæœ¬å¢åŠ Swagger - C#&amp;AspNetCore" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-C-MVC-APIç‰ˆæœ¬æ§åˆ¶" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/10/19/C-MVC-API%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6/" class="article-date">
  <time class="dt-published" datetime="2021-10-19T11:59:32.000Z" itemprop="datePublished">2021-10-19</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Code/">Code</a>â–º<a class="article-category-link" href="/categories/Code/C/">C#</a>â–º<a class="article-category-link" href="/categories/Framework/">Framework</a>â–º<a class="article-category-link" href="/categories/Framework/AspNetCore-API/">AspNetCore API</a>â–º<a class="article-category-link" href="/categories/Topic/">Topic</a>â–º<a class="article-category-link" href="/categories/Topic/2021-C-AspNetCore-Challenge/">2021 C# AspNetCore Challenge</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/10/19/C-MVC-API%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6/">[Day22] C# MVC APIç‰ˆæœ¬æ§åˆ¶ - C#&amp;AspNetCore</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>åœ¨ä¸Šå›ä¸­æˆ‘å€‘ä»‹ç´¹äº† <a href="/2021/10/18/C-MVC-RESTful-API-%E4%B8%8B-%E5%AF%A6%E4%BD%9CRESTful-API/" title="[Day21] C# MVC RESTful API (ä¸‹) å¯¦ä½œRESTful API - C#&amp;AspNetCore">[Day21] C# MVC RESTful API (ä¸‹) å¯¦ä½œRESTful API - C#&amp;AspNetCore</a> ï¼Œå¯¦ä½œäº†RESTful APIã€‚</p>
<p>è€Œé€™å›å°‡è¦é€²è¡ŒAPIç‰ˆæœ¬æ§åˆ¶!<br>èƒ½è™•ç†å‰ç«¯(React/Vue)æˆ–APP(iOS/Android)ä¸èƒ½é¦¬ä¸Šæ›´æ–°çš„æœ€ä½³æ‰‹æ®µï¼Œæœ‰éŒ¯å¯ä»¥é¦¬ä¸Šå…ˆé‚„åŸä¸Šä¸€ç‰ˆæœ¬ã€é”åˆ°å‘ä¸‹ç›¸å®¹ã€‚</p>
<h3 id="APIè¦æ ¼"><a href="#APIè¦æ ¼" class="headerlink" title="APIè¦æ ¼"></a>APIè¦æ ¼</h3><p>å¯ä¿®æ”¹apiVersionèª¿ç”¨ä¸åŒç‰ˆæœ¬APIï¼Œå¦‚:v1.0ã€v2.0</p>
<table>
<tbody><tr><th>æ–¹æ³•</th>
<th>ç¶²å€</th>
<th>æè¿°</th>
<th>è¦æ±‚æ–‡æœ¬</th>
<th>å›æ‡‰æ–‡æœ¬</th>
</tr><tr>
<td>GET</td>
<td><code>&#123;apiVersion&#125;/api/todo</code></td>
<td>å–å¾—æ‰€æœ‰å¾…è¾¦äº‹é …</td>
<td>ç„¡</td>
<td>å¾…è¾¦äº‹é …é™£åˆ—</td>
</tr>
<tr>
<td>GET</td>
<td><code>&#123;apiVersion&#125;/api/todo/&#123;id&#125;</code></td>
<td>ä¾è­˜åˆ¥ç¢¼å–å¾—å¾…è¾¦äº‹é …</td>
<td>ç„¡</td>
<td>å¾…è¾¦äº‹é …</td>
</tr>
<tr>
<td>POST</td>
<td><code>&#123;apiVersion&#125;/api/todo</code></td>
<td>æ–°å¢å¾…è¾¦äº‹é …</td>
<td>å¾…è¾¦äº‹é …</td>
<td>å¾…è¾¦äº‹é …</td>
</tr>
<tr>
<td>PUT</td>
<td><code>&#123;apiVersion&#125;/api/todo/&#123;id&#125;</code></td>
<td>æ›´æ–°ç¾æœ‰çš„å¾…è¾¦äº‹é …</td>
<td>å¾…è¾¦äº‹é …</td>
<td>å¾…è¾¦äº‹é …</td>
</tr>
<tr>
<td>DELETE</td>
<td><code>&#123;apiVersion&#125;/api/todo/&#123;id&#125;</code></td>
<td>åˆªé™¤å¾…è¾¦äº‹é …</td>
<td>ç„¡</td>
<td>å¾…è¾¦äº‹é …</td>
</tr>
<tr>
<td>GET</td>
<td><code>&#123;apiVersion&#125;/api/version</code></td>
<td>å–å¾—APIç‰ˆæœ¬</td>
<td>ç„¡</td>
<td>APIç‰ˆæœ¬</td>
</tr>
</tbody></table>


<h3 id="å¯¦ä½œAPIç‰ˆæ§"><a href="#å¯¦ä½œAPIç‰ˆæ§" class="headerlink" title="å¯¦ä½œAPIç‰ˆæ§"></a>å¯¦ä½œAPIç‰ˆæ§</h3><p>å…ˆåˆ—å‡ºæˆ‘å€‘è¦æ”¹çš„æª”æ¡ˆéš»æ•¸:</p>
<img src="/2021/10/19/C-MVC-API%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6/2.png" class="">

<p>1.å®‰è£Microsoft.AspNetCore.Mvc.Versioning</p>
<img src="/2021/10/19/C-MVC-API%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6/1.png" class="">

<p>2.å†ä¾†æ›´æ–°Startup.csï¼Œæœå‹™å¢åŠ ä¸€è¡Œå•Ÿç”¨APIåŠŸèƒ½services.AddApiVersioning()</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">// This method gets called by the runtime. Use this method to add services to the container.</span><br><span class="line">public void ConfigureServices(IServiceCollection services)</span><br><span class="line">&#123;</span><br><span class="line">    services.AddControllers();</span><br><span class="line">    // è³‡æ–™åº«é…ç½®</span><br><span class="line">    var connection = @&quot;Server=.\SQLExpress;Database=TodoDB;Trusted_Connection=True;ConnectRetryCount=0&quot;;</span><br><span class="line">    services.AddDbContext&lt;TodoDBContext&gt;(options =&gt; options.UseSqlServer(connection));</span><br><span class="line">    </span><br><span class="line">    // å•Ÿç”¨APIç‰ˆæ§åŠŸèƒ½</span><br><span class="line">    services.AddApiVersioning();</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>3.ä»¥è³‡æ–™å¤¾åˆ†ç‰ˆæœ¬å±¤ï¼Œå°±æ˜¯æŠŠåŸæœ¬çš„Controllerè¤‡è£½è‡³ç‰ˆæœ¬è³‡æ–™å¤¾</p>
<p>å¦‚1.0ç‰ˆ:<br><strong>~/Controllers/V1/VersionController.cs</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">using System.Collections.Generic;</span><br><span class="line">using Microsoft.AspNetCore.Mvc;</span><br><span class="line"></span><br><span class="line">namespace TodoAPI.Controllers.V1</span><br><span class="line">&#123;</span><br><span class="line">    [ApiVersion(&quot;1.0&quot;)]</span><br><span class="line">    [Route(&quot;api/v&#123;version:apiVersion&#125;/[controller]&quot;)]</span><br><span class="line">    [ApiController]</span><br><span class="line">    public class VersionController : ControllerBase</span><br><span class="line">    &#123;</span><br><span class="line">        [HttpGet]</span><br><span class="line">        public IEnumerable&lt;string&gt; Get()</span><br><span class="line">        &#123;</span><br><span class="line">            return new string[] &#123; &quot;api v1&quot; &#125;;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>å¦‚2.0ç‰ˆ:</p>
<p><strong>~/Controllers/V2/VersionController.cs</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">using System.Collections.Generic;</span><br><span class="line">using Microsoft.AspNetCore.Mvc;</span><br><span class="line"></span><br><span class="line">namespace TodoAPI.Controllers.V2</span><br><span class="line">&#123;</span><br><span class="line">    [ApiVersion(&quot;2.0&quot;)]</span><br><span class="line">    [Route(&quot;api/v&#123;version:apiVersion&#125;/[controller]&quot;)]</span><br><span class="line">    [ApiController]</span><br><span class="line">    public class VersionController : ControllerBase</span><br><span class="line">    &#123;</span><br><span class="line">        [HttpGet]</span><br><span class="line">        public IEnumerable&lt;string&gt; Get()</span><br><span class="line">        &#123;</span><br><span class="line">            return new string[] &#123; &quot;api v2&quot; &#125;;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åªè¦åœ¨æ¯å€‹Controllerä¿®æ”¹ä»¥ä¸‹çš„åœ°æ–¹å³å¯</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">namespace TodoAPI.Controllers.V1 </span><br></pre></td></tr></table></figure>
<p>æ”¹æˆ</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">namespace TodoAPI.Controllers.V2</span><br></pre></td></tr></table></figure>
<p>ä»¥åŠ</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[ApiVersion(&quot;1.0&quot;)]</span><br></pre></td></tr></table></figure>
<p>æ”¹æˆ</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[ApiVersion(&quot;2.0&quot;)]</span><br></pre></td></tr></table></figure>
<p>TodoController.csä¹Ÿæ˜¯ä¸€æ¨£å–”ï¼Œå°±ä¸ç¤ºç¯„äº†ã€‚</p>
<p>4.å˜—è©¦çœ‹çœ‹</p>
<img src="/2021/10/19/C-MVC-API%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6/demo.gif" class="">


<h3 id="ç¸½çµ"><a href="#ç¸½çµ" class="headerlink" title="ç¸½çµ"></a>ç¸½çµ</h3><p>åŸæœ¬å¾ˆé›£çš„äº‹æƒ…ï¼Œç«Ÿç„¶å¯ä»¥å¦‚æ­¤ç°¡å–®è§£æ±º!æ„Ÿå‹•!<br>å†ä¾†å°±æ˜¯è€ƒé©—DBè¦åŠƒäº†ï¼Œå› ç‚ºå¦‚æœè¦å‘ä¸‹å…¼å®¹è®Šæˆåªèƒ½å¢ä¸èƒ½åˆªã€‚<br>ä½†é€šå¸¸æˆ‘å€‘èƒ½åœ¨ä¸Šèˆ‡ä¸‹ç‰ˆé–“å…ˆé™¤éŒ¯ï¼Œæ‰€ä»¥åŸºæœ¬ä¸Šä¸æœƒæœ‰å¤ªå¤§å•é¡Œã€‚</p>
<p>è€ŒLINQå¼·å‹åˆ¥å¥½è™•å°±ä¾†äº†ï¼Œå› ç‚ºæ˜¯é€éModelå­˜å–çš„é—œä¿‚ï¼Œæ‰€ä»¥èƒ½å¤ æœ‰æ•ˆé¿å…è¦æ ¼éŒ¯èª¤ã€‚</p>
<p>è€Œç¶²å€ç”¨v1.0ã€v2.0â€¦åŸå› åœ¨Getæ™‚ç€è¦½å™¨åªèƒ½ç”¨ç¶²å€ï¼Œæ‰€ä»¥æ˜¯æœ€æ–¹ä¾¿çš„æ–¹å¼ã€‚<br>ç•¶ç„¶ä¹Ÿèƒ½å¤ æ”¹æ”¾åœ¨headerã€æˆ–ç”¨?api=1.0çš„åšæ³•ã€‚</p>
<p>æœ€å¾Œé™„ä¸Šå®Œæ•´ç¨‹å¼ç¢¼:<br><a target="_blank" rel="noopener" href="https://github.com/yuhsiang237/ASP.NET-Core-RESTfulAPI-API-Version-Control">https://github.com/yuhsiang237/ASP.NET-Core-RESTfulAPI-API-Version-Control</a></p>
<p>å†ä¾†å°±æ˜¯æ·»åŠ Swagger:<br> <a href="/2021/10/26/C-MVC-Web-API%E5%A2%9E%E5%8A%A0Swagger/" title="[Day23] C# MVC Web APIç‰ˆæœ¬å¢åŠ Swagger - C#&amp;AspNetCore">[Day23] C# MVC Web APIç‰ˆæœ¬å¢åŠ Swagger - C#&amp;AspNetCore</a></p>
<p>é¡å¤–è£œå……:<br>è‡³æ–¼Controllerå¤šç‰ˆæœ¬é‚£Modelå‘¢?<br>å› ç‚ºå‘ä¸‹å…¼å®¹ï¼Œå¯èƒ½æœƒå›å‚³ä¸åŒç‰ˆçš„Model<br>é€™æ™‚å°±å¯ä»¥ä½¿ç”¨ç¹¼æ‰¿è·Ÿè¦†å¯«!<br>å¦‚1.1ç¹¼æ‰¿1.0:ModelV1_1:ModelV1_0<br>ä¹‹å¾Œæ·»åŠ å±¬æ€§è·Ÿè¦†å¯«æ–¹æ³•<br>è€Œä¸»è¦å°±æ˜¯é¿å…è³‡æ–™åº«ç•°å‹•å¤ªå¤§ï¼Œå°±å¯ä»¥é¿å…break changeé€ æˆä¸ç›¸å®¹ã€‚</p>
<p><strong>åƒè€ƒè³‡æ–™</strong><br><a target="_blank" rel="noopener" href="https://dotblogs.com.tw/rainmaker/2017/03/12/130759">https://dotblogs.com.tw/rainmaker/2017/03/12/130759</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://yuhsiang237.github.io/2021/10/19/C-MVC-API%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6/" data-id="cme6kwo09000rgalj7kq5fv2s" data-title="[Day22] C# MVC APIç‰ˆæœ¬æ§åˆ¶ - C#&amp;AspNetCore" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-C-MVC-RESTful-API-ä¸‹-å¯¦ä½œRESTful-API" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/10/18/C-MVC-RESTful-API-%E4%B8%8B-%E5%AF%A6%E4%BD%9CRESTful-API/" class="article-date">
  <time class="dt-published" datetime="2021-10-18T11:59:32.000Z" itemprop="datePublished">2021-10-18</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Code/">Code</a>â–º<a class="article-category-link" href="/categories/Code/C/">C#</a>â–º<a class="article-category-link" href="/categories/Framework/">Framework</a>â–º<a class="article-category-link" href="/categories/Framework/AspNetCore-API/">AspNetCore API</a>â–º<a class="article-category-link" href="/categories/Topic/">Topic</a>â–º<a class="article-category-link" href="/categories/Topic/2021-C-AspNetCore-Challenge/">2021 C# AspNetCore Challenge</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/10/18/C-MVC-RESTful-API-%E4%B8%8B-%E5%AF%A6%E4%BD%9CRESTful-API/">[Day21] C# MVC RESTful API (ä¸‹) å¯¦ä½œRESTful API - C#&amp;AspNetCore</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>åœ¨ä¸Šå›ä¸­æˆ‘å€‘ä»‹ç´¹äº† <a href="/2021/10/17/C-MVC-RESTful-API-%E4%B8%AD-%E5%BB%BA%E7%AB%8BAPI%E5%B0%88%E6%A1%88/" title="[Day20] C# MVC RESTful API (ä¸­) å»ºç«‹APIå°ˆæ¡ˆ - C#&amp;AspNetCore">[Day20] C# MVC RESTful API (ä¸­) å»ºç«‹APIå°ˆæ¡ˆ - C#&amp;AspNetCore</a> ï¼Œæˆ‘å€‘åœ¨åŸæœ¬çš„MVCå°ˆæ¡ˆä¸­åŠ å…¥äº†WEB APIå°ˆæ¡ˆã€‚</p>
<p>è€Œé€™å›å°‡æœƒæ’°å¯«RESTful API!<br>æœ¬æ–‡æœƒä»¥:<a target="_blank" rel="noopener" href="https://docs.microsoft.com/zh-tw/aspnet/core/tutorials/first-web-api?view=aspnetcore-3.1&amp;tabs=visual-studio">https://docs.microsoft.com/zh-tw/aspnet/core/tutorials/first-web-api?view=aspnetcore-3.1&amp;tabs=visual-studio</a> æä¾›çš„ç¯„ä¾‹ä½œç‚ºå¯¦ä½œä¾æ“šã€‚</p>
<h3 id="RESTful-APIè¦æ ¼"><a href="#RESTful-APIè¦æ ¼" class="headerlink" title="RESTful APIè¦æ ¼"></a>RESTful APIè¦æ ¼</h3><table>
<th>æ–¹æ³•</th>
<th>ç¶²å€</th>
<th>æè¿°</th>
<th>è¦æ±‚æ–‡æœ¬</th>
<th>å›æ‡‰æ–‡æœ¬</th>
<tr>
<td>GET</td>
<td><code>/api/todo</code></td>
<td>å–å¾—æ‰€æœ‰å¾…è¾¦äº‹é …</td>
<td>ç„¡</td>
<td>å¾…è¾¦äº‹é …é™£åˆ—</td>
</tr>
<tr>
<td>GET</td>
<td><code>/api/todo/&#123;id&#125;</code></td>
<td>ä¾è­˜åˆ¥ç¢¼å–å¾—å¾…è¾¦äº‹é …</td>
<td>ç„¡</td>
<td>å¾…è¾¦äº‹é …</td>
</tr>
<tr>
<td>POST</td>
<td><code>/api/todo</code></td>
<td>æ–°å¢å¾…è¾¦äº‹é …</td>
<td>å¾…è¾¦äº‹é …</td>
<td>å¾…è¾¦äº‹é …</td>
</tr>
<tr>
<td>PUT</td>
<td><code>/api/todo/&#123;id&#125;</code></td>
<td>æ›´æ–°ç¾æœ‰çš„å¾…è¾¦äº‹é …</td>
<td>å¾…è¾¦äº‹é …</td>
<td>å¾…è¾¦äº‹é …</td>
</tr>
<tr>
<td>DELETE</td>
<td><code>/api/todo/&#123;id&#125;</code></td>
<td>åˆªé™¤å¾…è¾¦äº‹é …</td>
<td>ç„¡</td>
<td>å¾…è¾¦äº‹é …</td>
</tr>
<!-- <tr>
<td>POST</td>
<td><code>/api/todo/batch</code></td>
<td>æ‰¹æ¬¡è™•ç†å¾…è¾¦äº‹é …ï¼Œå¯æ‰¹æ¬¡æ–°å¢ã€åˆªé™¤ã€ç·¨è¼¯</td>
<td>æ‰¹æ¬¡å‹•ä½œã€å¾…è¾¦äº‹é …é™£åˆ—</td>
<td>æ‰¹æ¬¡å‹•ä½œã€å¾…è¾¦äº‹é …é™£åˆ—</td>
</tr> -->
<tr>
</table>


<h3 id="å¯¦ä½œRESTful-API"><a href="#å¯¦ä½œRESTful-API" class="headerlink" title="å¯¦ä½œRESTful API"></a>å¯¦ä½œRESTful API</h3><p>å…ˆå®‰è£åŸºæœ¬è³‡æ–™åº«å¥—ä»¶<br>1.Microsoft.EntityFrameworkCore</p>
<img src="/2021/10/18/C-MVC-RESTful-API-%E4%B8%8B-%E5%AF%A6%E4%BD%9CRESTful-API/1.png" class="">
<p>2.Microsoft.EntityFrameworkCore.SqlServer</p>
<img src="/2021/10/18/C-MVC-RESTful-API-%E4%B8%8B-%E5%AF%A6%E4%BD%9CRESTful-API/2.png" class="">
<p>3.Microsoft.EntityFrameworkCore.Tools</p>
<img src="/2021/10/18/C-MVC-RESTful-API-%E4%B8%8B-%E5%AF%A6%E4%BD%9CRESTful-API/3.png" class="">
<p>4.ä½¿ç”¨DB First</p>
<img src="/2021/10/18/C-MVC-RESTful-API-%E4%B8%8B-%E5%AF%A6%E4%BD%9CRESTful-API/4.png" class="">

<img src="/2021/10/18/C-MVC-RESTful-API-%E4%B8%8B-%E5%AF%A6%E4%BD%9CRESTful-API/5.png" class="">

<p>ç”¨<code>Scaffold-DbContext</code>æŒ‡ä»¤ï¼Œä¾†é‚„åŸTodoDBè³‡æ–™åº«çš„Models</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Scaffold-DbContext &quot;Server=.\SQLExpress;Database=TodoDB;Trusted_Connection=True;&quot; Microsoft.EntityFrameworkCore.SqlServer -OutputDir Models</span><br></pre></td></tr></table></figure>
<p>åŸ·è¡Œç•«é¢:</p>
<img src="/2021/10/18/C-MVC-RESTful-API-%E4%B8%8B-%E5%AF%A6%E4%BD%9CRESTful-API/6.png" class="">
<p>åŸ·è¡Œå¾Œ:</p>
<img src="/2021/10/18/C-MVC-RESTful-API-%E4%B8%8B-%E5%AF%A6%E4%BD%9CRESTful-API/7.png" class="">

<p>5.Startup.cså¢åŠ è³‡æ–™åº«é…ç½®</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">// This method gets called by the runtime. Use this method to add services to the container.</span><br><span class="line">    public void ConfigureServices(IServiceCollection services)</span><br><span class="line">    &#123;</span><br><span class="line">        services.AddControllers();</span><br><span class="line">        // è³‡æ–™åº«é…ç½®</span><br><span class="line">        var connection = @&quot;Server=.\SQLExpress;Database=TodoDB;Trusted_Connection=True;ConnectRetryCount=0&quot;;</span><br><span class="line">        services.AddDbContext&lt;TodoDBContext&gt;(options =&gt; options.UseSqlServer(connection));</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p>6.æ’°å¯«RESTful API</p>
<p><strong>~/Controllers/TodoController.cs</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br></pre></td><td class="code"><pre><span class="line">using System.Collections.Generic;</span><br><span class="line">using System.Linq;</span><br><span class="line">using System.Threading.Tasks;</span><br><span class="line">using Microsoft.AspNetCore.Mvc;</span><br><span class="line">using Microsoft.EntityFrameworkCore;</span><br><span class="line">using TodoAPI.Models;</span><br><span class="line"></span><br><span class="line">namespace TodoAPI.Controllers</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">    [Route(&quot;api/[controller]&quot;)]</span><br><span class="line">    [ApiController]</span><br><span class="line">    public class TodoController : ControllerBase</span><br><span class="line">    &#123;</span><br><span class="line">        private readonly TodoDBContext _context;</span><br><span class="line">        public TodoController(TodoDBContext context)</span><br><span class="line">        &#123;</span><br><span class="line">            _context = context;</span><br><span class="line">        &#125;</span><br><span class="line">        [HttpGet]</span><br><span class="line">        public async Task&lt;ActionResult&lt;IEnumerable&lt;Todo&gt;&gt;&gt; GetTodos()</span><br><span class="line">        &#123;</span><br><span class="line">            return await _context.Todos.Where(x=&gt;x.IsDeleted != 1).ToListAsync();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        [HttpGet(&quot;&#123;id&#125;&quot;)]</span><br><span class="line">        public async Task&lt;ActionResult&lt;Todo&gt;&gt; GetTodo(int id)</span><br><span class="line">        &#123;</span><br><span class="line">            var obj = await _context.Todos.FindAsync(id);</span><br><span class="line"></span><br><span class="line">            if (obj.IsDeleted == 1)</span><br><span class="line">            &#123;</span><br><span class="line">                return NotFound();</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            return obj;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        [HttpPut(&quot;&#123;id&#125;&quot;)]</span><br><span class="line">        public async Task&lt;ActionResult&lt;Todo&gt;&gt; PutTodo(int id, Todo newObj)</span><br><span class="line">        &#123;</span><br><span class="line">            if (id != newObj.Id)</span><br><span class="line">            &#123;</span><br><span class="line">                return BadRequest();</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            var obj = await _context.Todos.FindAsync(id);</span><br><span class="line"></span><br><span class="line">            if(obj.IsDeleted == 1)</span><br><span class="line">            &#123;</span><br><span class="line">                return NotFound();</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            obj.IsComplete = newObj.IsComplete;</span><br><span class="line">            obj.Name = newObj.Name;</span><br><span class="line"></span><br><span class="line">            try</span><br><span class="line">            &#123;</span><br><span class="line">                await _context.SaveChangesAsync();</span><br><span class="line">            &#125;</span><br><span class="line">            catch (DbUpdateConcurrencyException)</span><br><span class="line">            &#123;</span><br><span class="line">                if (!TodoExists(id))</span><br><span class="line">                &#123;</span><br><span class="line">                    return NotFound();</span><br><span class="line">                &#125;</span><br><span class="line">                else</span><br><span class="line">                &#123;</span><br><span class="line">                    throw;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            return obj;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        [HttpPost]</span><br><span class="line">        public async Task&lt;ActionResult&lt;Todo&gt;&gt; PostTodo(Todo newObj)</span><br><span class="line">        &#123;</span><br><span class="line">            var obj = new Todo</span><br><span class="line">            &#123;</span><br><span class="line">                Name = newObj.Name,</span><br><span class="line">                IsComplete = 0,</span><br><span class="line">                IsDeleted = 0</span><br><span class="line">            &#125;;</span><br><span class="line">            _context.Todos.Add(obj); </span><br><span class="line">            await _context.SaveChangesAsync();</span><br><span class="line"></span><br><span class="line">            return CreatedAtAction(nameof(GetTodo), new &#123; id = obj.Id &#125;, obj);</span><br><span class="line">        &#125;</span><br><span class="line">        [HttpDelete(&quot;&#123;id&#125;&quot;)]</span><br><span class="line">        public async Task&lt;ActionResult&lt;Todo&gt;&gt; DeleteTodo(int id)</span><br><span class="line">        &#123;</span><br><span class="line">            var obj = await _context.Todos.FindAsync(id);</span><br><span class="line">            obj.IsDeleted = 1;</span><br><span class="line"></span><br><span class="line">            if (obj == null)</span><br><span class="line">            &#123;</span><br><span class="line">                return NotFound();</span><br><span class="line">            &#125;</span><br><span class="line">            try</span><br><span class="line">            &#123;</span><br><span class="line">                await _context.SaveChangesAsync();</span><br><span class="line">            &#125;</span><br><span class="line">            catch (DbUpdateConcurrencyException)</span><br><span class="line">            &#123;</span><br><span class="line">                if (!TodoExists(id))</span><br><span class="line">                &#123;</span><br><span class="line">                    return NotFound();</span><br><span class="line">                &#125;</span><br><span class="line">                else</span><br><span class="line">                &#123;</span><br><span class="line">                    throw;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            return obj;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        private bool TodoExists(int id)</span><br><span class="line">        &#123;</span><br><span class="line">            return _context.Todos.Any(e =&gt; e.Id == id);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>7.ç”¨postmanæ¸¬è©¦</p>
<img src="/2021/10/18/C-MVC-RESTful-API-%E4%B8%8B-%E5%AF%A6%E4%BD%9CRESTful-API/demo.gif" class="">


<p>å°ˆæ¡ˆç¨‹å¼ç¢¼:<br><a target="_blank" rel="noopener" href="https://github.com/yuhsiang237/ASP.NET-Core-RESTfulAPI">https://github.com/yuhsiang237/ASP.NET-Core-RESTfulAPI</a></p>
<h3 id="ç¸½çµ"><a href="#ç¸½çµ" class="headerlink" title="ç¸½çµ"></a>ç¸½çµ</h3><p>é€™æ¨£å°±å®Œæˆäº†RESTful APIäº†!</p>
<p><strong>åƒè€ƒè³‡æ–™</strong><br><a target="_blank" rel="noopener" href="https://docs.microsoft.com/zh-tw/aspnet/core/tutorials/first-web-api?view=aspnetcore-3.1&amp;tabs=visual-studio">https://docs.microsoft.com/zh-tw/aspnet/core/tutorials/first-web-api?view=aspnetcore-3.1&amp;tabs=visual-studio</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://yuhsiang237.github.io/2021/10/18/C-MVC-RESTful-API-%E4%B8%8B-%E5%AF%A6%E4%BD%9CRESTful-API/" data-id="cme6kwo0l001dgalj34bk9aax" data-title="[Day21] C# MVC RESTful API (ä¸‹) å¯¦ä½œRESTful API - C#&amp;AspNetCore" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-C-MVC-RESTful-API-ä¸­-å»ºç«‹APIå°ˆæ¡ˆ" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/10/17/C-MVC-RESTful-API-%E4%B8%AD-%E5%BB%BA%E7%AB%8BAPI%E5%B0%88%E6%A1%88/" class="article-date">
  <time class="dt-published" datetime="2021-10-17T02:16:48.000Z" itemprop="datePublished">2021-10-17</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Code/">Code</a>â–º<a class="article-category-link" href="/categories/Code/C/">C#</a>â–º<a class="article-category-link" href="/categories/Framework/">Framework</a>â–º<a class="article-category-link" href="/categories/Framework/AspNetCore-API/">AspNetCore API</a>â–º<a class="article-category-link" href="/categories/Topic/">Topic</a>â–º<a class="article-category-link" href="/categories/Topic/2021-C-AspNetCore-Challenge/">2021 C# AspNetCore Challenge</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/10/17/C-MVC-RESTful-API-%E4%B8%AD-%E5%BB%BA%E7%AB%8BAPI%E5%B0%88%E6%A1%88/">[Day20] C# MVC RESTful API (ä¸­) å»ºç«‹APIå°ˆæ¡ˆ - C#&amp;AspNetCore</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>åœ¨ä¸Šå›ä¸­æˆ‘å€‘ä»‹ç´¹äº† <a href="/2021/10/16/C-MVC-RESTful-API-%E4%B8%8A-RESTful-%E5%9F%BA%E7%A4%8E%E7%9F%A5%E8%AD%98/" title="[Day19] C# MVC RESTful API (ä¸Š) RESTful åŸºç¤çŸ¥è­˜ - C#&amp;AspNetCore">[Day19] C# MVC RESTful API (ä¸Š) RESTful åŸºç¤çŸ¥è­˜ - C#&amp;AspNetCore</a> ï¼ŒçŸ¥é“äº†RESTful APIçš„åŸºç¤çŸ¥è­˜ã€‚</p>
<p>é€™å›å…ˆäº†è§£å¦‚ä½•åœ¨ç¾æœ‰çš„MVCå°ˆæ¡ˆä¸­åŠ å…¥APIå°ˆæ¡ˆå§!</p>
<h3 id="MVCå°ˆæ¡ˆåŠ å…¥WEB-APIå°ˆæ¡ˆ"><a href="#MVCå°ˆæ¡ˆåŠ å…¥WEB-APIå°ˆæ¡ˆ" class="headerlink" title="MVCå°ˆæ¡ˆåŠ å…¥WEB APIå°ˆæ¡ˆ"></a>MVCå°ˆæ¡ˆåŠ å…¥WEB APIå°ˆæ¡ˆ</h3><p>1.é€™æ˜¯ä¸€å€‹åŸæœ¬çš„MVCå°ˆæ¡ˆ</p>
<img src="/2021/10/17/C-MVC-RESTful-API-%E4%B8%AD-%E5%BB%BA%E7%AB%8BAPI%E5%B0%88%E6%A1%88/1.png" class="">
<p>2.å°Solutioné»å³éµ&gt;New Project</p>
<img src="/2021/10/17/C-MVC-RESTful-API-%E4%B8%AD-%E5%BB%BA%E7%AB%8BAPI%E5%B0%88%E6%A1%88/2.png" class="">
<p>3.é¸ASP.NET Core Web API</p>
<img src="/2021/10/17/C-MVC-RESTful-API-%E4%B8%AD-%E5%BB%BA%E7%AB%8BAPI%E5%B0%88%E6%A1%88/3.png" class="">
<p>4.å»ºç«‹APIå°ˆæ¡ˆåç¨±ï¼Œé€™å–åTodoAPI</p>
<img src="/2021/10/17/C-MVC-RESTful-API-%E4%B8%AD-%E5%BB%BA%E7%AB%8BAPI%E5%B0%88%E6%A1%88/4.png" class="">
<p>5.ç‰ˆæœ¬æˆ‘é¸.net core 3.1é•·æœŸç©©å®šç‰ˆæœ¬</p>
<img src="/2021/10/17/C-MVC-RESTful-API-%E4%B8%AD-%E5%BB%BA%E7%AB%8BAPI%E5%B0%88%E6%A1%88/5.png" class="">
<p>6.é€™æ™‚å°±æœƒæœ‰ä¸€å€‹å°ˆæ¡ˆTodoAPIåŠ å…¥ç¾æœ‰çš„Solutionäº†ã€‚</p>
<img src="/2021/10/17/C-MVC-RESTful-API-%E4%B8%AD-%E5%BB%BA%E7%AB%8BAPI%E5%B0%88%E6%A1%88/6.png" class="">
<p>7.åˆ‡æ›é‹è¡Œçš„å°ˆæ¡ˆ</p>
<img src="/2021/10/17/C-MVC-RESTful-API-%E4%B8%AD-%E5%BB%BA%E7%AB%8BAPI%E5%B0%88%E6%A1%88/7.png" class="">
<p>8.åŸ·è¡Œï¼Œå¯å‡ºç¾é è¨­çš„ç¯„ä¾‹APIçµæœ</p>
<img src="/2021/10/17/C-MVC-RESTful-API-%E4%B8%AD-%E5%BB%BA%E7%AB%8BAPI%E5%B0%88%E6%A1%88/8.png" class="">

<h3 id="ç¸½çµ"><a href="#ç¸½çµ" class="headerlink" title="ç¸½çµ"></a>ç¸½çµ</h3><p>åœ¨é€™ç¯‡ä¸­ä¸»è¦æ˜¯æ¢è¨å¦‚ä½•åœ¨ä¸€å€‹æœ‰MVCå°ˆæ¡ˆçš„ç‹€æ³ä¸‹å†å»åŠ ä¸€å€‹Web APIæœå‹™ã€‚<br>è€Œåœ¨ä¸‹ç¯‡æˆ‘å€‘å°±è¦ç”¨é€™ç¯„ä¾‹å¯¦ä½œRESTful APIã€‚</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://yuhsiang237.github.io/2021/10/17/C-MVC-RESTful-API-%E4%B8%AD-%E5%BB%BA%E7%AB%8BAPI%E5%B0%88%E6%A1%88/" data-id="cme6kwo0m001fgalj2xc94n0m" data-title="[Day20] C# MVC RESTful API (ä¸­) å»ºç«‹APIå°ˆæ¡ˆ - C#&amp;AspNetCore" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/page/7/">&laquo; Prev</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/6/">6</a><a class="page-number" href="/page/7/">7</a><span class="page-number current">8</span><a class="page-number" href="/page/9/">9</a><a class="page-number" href="/page/10/">10</a><span class="space">&hellip;</span><a class="page-number" href="/page/16/">16</a><a class="extend next" rel="next" href="/page/9/">Next &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Code/">Code</a><span class="category-list-count">79</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Code/C/">C#</a><span class="category-list-count">69</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Code/Javascript/">Javascript</a><span class="category-list-count">10</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Code/Refactoring/">Refactoring</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Code/Typescript/">Typescript</a><span class="category-list-count">4</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Computer-Science/">Computer Science</a><span class="category-list-count">5</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Computer-Science/Algorithm/">Algorithm</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Computer-Science/Data-structure/">Data structure</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Computer-Science/Electronic-Circuit/">Electronic Circuit</a><span class="category-list-count">2</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Daily-Log/">Daily Log</a><span class="category-list-count">9</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Database/">Database</a><span class="category-list-count">57</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Database/PostgreSQL/">PostgreSQL</a><span class="category-list-count">10</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Database/SQL-Server/">SQL Server</a><span class="category-list-count">47</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Framework/">Framework</a><span class="category-list-count">27</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Framework/AspNetCore-API/">AspNetCore API</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Framework/AspNetCore-MVC/">AspNetCore MVC</a><span class="category-list-count">21</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Topic/">Topic</a><span class="category-list-count">79</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Topic/2021-C-AspNetCore-Challenge/">2021 C# AspNetCore Challenge</a><span class="category-list-count">30</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Topic/2021-SQL-Server-Challenge/">2021 SQL Server Challenge</a><span class="category-list-count">30</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Topic/2022-C-SyncAndAsync/">2022 C# SyncAndAsync</a><span class="category-list-count">8</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Topic/2025-Typescript/">2025 Typescript</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Topic/Big-Data/">Big Data</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Topic/LeetCode/">LeetCode</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Topic/SystemStructure/">SystemStructure</a><span class="category-list-count">1</span></li></ul></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/08/">August 2025</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/05/">May 2023</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/03/">March 2023</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/02/">February 2023</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/01/">January 2023</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/12/">December 2022</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/09/">September 2022</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/07/">July 2022</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/06/">June 2022</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/05/">May 2022</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/04/">April 2022</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/03/">March 2022</a><span class="archive-list-count">17</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/02/">February 2022</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/01/">January 2022</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/12/">December 2021</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/10/">October 2021</a><span class="archive-list-count">24</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/09/">September 2021</a><span class="archive-list-count">46</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/08/">August 2021</a><span class="archive-list-count">12</span></li></ul>
    </div>
  </div>


  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2025 Yu Hsiang<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.4.1.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>
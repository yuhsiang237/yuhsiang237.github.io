<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>UM&#39;s Coding Note</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="I record my coding experience at this place">
<meta property="og:type" content="website">
<meta property="og:title" content="UM&#39;s Coding Note">
<meta property="og:url" content="https://yuhsiang237.github.io/page/11/index.html">
<meta property="og:site_name" content="UM&#39;s Coding Note">
<meta property="og:description" content="I record my coding experience at this place">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Yu Hsiang">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="UM's Coding Note" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
<meta name="generator" content="Hexo 5.4.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">UM&#39;s Coding Note</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">I record my coding experience at this place🤙</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://yuhsiang237.github.io"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  
    <article id="post-基礎資料結構" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/09/26/%E5%9F%BA%E7%A4%8E%E8%B3%87%E6%96%99%E7%B5%90%E6%A7%8B/" class="article-date">
  <time class="dt-published" datetime="2021-09-25T20:10:11.000Z" itemprop="datePublished">2021-09-26</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Computer-Science/">Computer Science</a>►<a class="article-category-link" href="/categories/Computer-Science/Data-structure/">Data structure</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/09/26/%E5%9F%BA%E7%A4%8E%E8%B3%87%E6%96%99%E7%B5%90%E6%A7%8B/">基礎資料結構</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p><strong>資料結構:</strong></p>
<ol>
<li>如何在電腦中儲存資料。</li>
<li>是一種工具，如:演算法搭配適合的資料結構。</li>
</ol>
<p><strong>選擇不同的資料結構:</strong></p>
<ol>
<li>時間複雜度:非常頻繁拿、取，希望時間可以短一點。</li>
<li>空間複雜度:需要另外用空間來加速，那空間可能要比較多。</li>
<li>coding複雜度:比如有兩種結構可以實作這程式，那選較容易、不容易出錯的那個。</li>
</ol>
<h3 id="常見操作"><a href="#常見操作" class="headerlink" title="常見操作"></a>常見操作</h3><p>push放入一個元素、pop取出一個元素、query查詢</p>
<h3 id="堆疊"><a href="#堆疊" class="headerlink" title="堆疊"></a>堆疊</h3><p>堆疊(stack，FILO，first in last out)，先進後出，如碟盤子。<br>實作搭配linked list<br>push:在head插入一個節點<br>pop:刪除head指向的節點<br>時間複雜度:<br>push:O(1)<br>pop:O(1)</p>
<h3 id="佇列"><a href="#佇列" class="headerlink" title="佇列"></a>佇列</h3><p>佇列(queue，FIFO，first in first out)，先進先出，如排隊。有環狀、單向之分。<br>實作搭配linked list或環狀佇列。<br>push:在end後面插入一個節點<br>pop:刪除head指向的節點<br>時間複雜度:<br>enqueue:O(1)<br>dequeue:O(1)</p>
<h3 id="鏈結串列"><a href="#鏈結串列" class="headerlink" title="鏈結串列"></a>鏈結串列</h3><p>鏈結串列(linked list)。<br>基本單元:Node(data+pointer)<br>將很多Node接起。<br>head指向第一個node，最後一個指標指向NULL。</p>
<img src="/2021/09/26/%E5%9F%BA%E7%A4%8E%E8%B3%87%E6%96%99%E7%B5%90%E6%A7%8B/linked-list.png" class="">
<p>性質:</p>
<ol>
<li>每個元素只記錄他下一個元素，外部只記錄起點(head)</li>
<li>動態宣告記憶體，需要時就要，不需要就還給系統</li>
<li>分類:單向、雙向、環狀</li>
<li>不能隨機存取，因為外部只記錄起點(head)，所以只能從頭去一個一個下去找，第一個告訴我第二個在哪，第二個告訴我第三個在哪…。</li>
</ol>
<p>操作:<br>insert新增元素，在兩個元素間，或是頭、尾插入<br>delete刪除元素</p>
<p>時間複雜度:<br>insert:O(1)，只要重新更改pointer指向<br>delete:O(1)，只要重新更改pointer指向</p>
<p>為什麼不用陣列，還能隨機存取?<br>1.避免記憶體浪費，但array的dynamic array也能做到<br>2.可以快速刪除、插入節點，這array沒辦法做到。</p>
<p>下面兩個是延伸，不過要控制的資料變多，可能維護下來除起bug的機率會高。</p>
<h5 id="雙向鏈結串列"><a href="#雙向鏈結串列" class="headerlink" title="雙向鏈結串列"></a>雙向鏈結串列</h5><img src="/2021/09/26/%E5%9F%BA%E7%A4%8E%E8%B3%87%E6%96%99%E7%B5%90%E6%A7%8B/linked-list2.png" class="">
<h5 id="環狀鏈結串列"><a href="#環狀鏈結串列" class="headerlink" title="環狀鏈結串列"></a>環狀鏈結串列</h5><img src="/2021/09/26/%E5%9F%BA%E7%A4%8E%E8%B3%87%E6%96%99%E7%B5%90%E6%A7%8B/linked-list3.png" class="">
<h3 id="時間複雜度比較"><a href="#時間複雜度比較" class="headerlink" title="時間複雜度比較"></a>時間複雜度比較</h3><img src="/2021/09/26/%E5%9F%BA%E7%A4%8E%E8%B3%87%E6%96%99%E7%B5%90%E6%A7%8B/array-vs-linkedlist.png" class="">
<p>此外，兩個linked list合併速度很快，因為只要指向另一個的頭即可，只要O(1)。</p>
<h3 id="總結"><a href="#總結" class="headerlink" title="總結"></a>總結</h3><p>從這章中理解到為什麼要用資料結構，選用適合的資料結構可以改善程式的速度、程式碼難易度。在前面這幾篇中預計以理解原理為主，底層實作則未來有時間再另外拿出來寫。</p>
<p>如果是頻繁讀取，可以用array；如果頻繁新增、刪除，可以用linked list。</p>
<p><strong>參考資料</strong><br><a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=EH5XO2iYJvM">https://www.youtube.com/watch?v=EH5XO2iYJvM</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://yuhsiang237.github.io/2021/09/26/%E5%9F%BA%E7%A4%8E%E8%B3%87%E6%96%99%E7%B5%90%E6%A7%8B/" data-id="cme6kwo3u007igalj7uoifsd2" data-title="基礎資料結構" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-演算法複雜度" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/09/25/%E6%BC%94%E7%AE%97%E6%B3%95%E8%A4%87%E9%9B%9C%E5%BA%A6/" class="article-date">
  <time class="dt-published" datetime="2021-09-24T18:53:26.000Z" itemprop="datePublished">2021-09-25</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Computer-Science/">Computer Science</a>►<a class="article-category-link" href="/categories/Computer-Science/Algorithm/">Algorithm</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/09/25/%E6%BC%94%E7%AE%97%E6%B3%95%E8%A4%87%E9%9B%9C%E5%BA%A6/">Big-O 複雜度分析</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h3 id="好程式的迷思"><a href="#好程式的迷思" class="headerlink" title="好程式的迷思"></a>好程式的迷思</h3><p>一個程式好不好通常看你要解決的問題。</p>
<ol>
<li>時間花得少(運行速度) ex:網頁跑很快、資料載入快</li>
<li>空間花得少 ex:硬體不夠充裕，要使用比較少記憶體</li>
<li>正確率較高 ex:防毒軟體隊攻擊作防範、更高機率偵測</li>
<li>相容性較高 ex:好延伸擴充、裡面程式太複雜造成很難擴充</li>
<li>開發成本低 ex:開發軟體時，很快的做法但寫起來很困難，普通速度的作法但寫起來容易。</li>
</ol>
<p>所以要適當的平衡，並不是哪種一定是好。<br>相容性、開發成本，通常仰賴當下開發者評估。<br>正確率則是在實作的細節上、Case量、理論分析上。</p>
<h3 id="複雜度概念"><a href="#複雜度概念" class="headerlink" title="複雜度概念"></a>複雜度概念</h3><p>把所有操作都視為一樣的時間，如:加減乘除、位運算、存取記憶體、判斷運算子…等<br>把所有操作次數計算出來。<br>看量級大小，來評估執行時間。有些程式容易TLE超時就是因為這問題，比較在意的是量級，而不是精確的值。</p>
<p>舉例:被指派長期作業，有兩種方案可選:</p>
<ol>
<li>每天算10題。</li>
<li>第一天算1題，第二天算2題，第三天算3題…。</li>
</ol>
<p><strong>兩種方案怎麼選?</strong><br>如果每算一題要5秒<br>第n天:</p>
<ol>
<li>10 * n * 5 = 50n</li>
<li>(n+1) * n/2 * 5 = 2.5(n^2+n)</li>
</ol>
<p>n=5天時，</p>
<ol>
<li>250秒</li>
<li>75秒</li>
</ol>
<p>n=365天時，</p>
<ol>
<li>18250秒</li>
<li>333975秒</li>
</ol>
<p>可以發現操作數的量級(複雜)比較多，所以以長期來看會是方案1比較好。</p>
<h3 id="量級概念"><a href="#量級概念" class="headerlink" title="量級概念"></a>量級概念</h3><p>成長的速度不同等級。<br>如f(n)與g(n)兩個函數，當n趨近無窮大，誰會比較大?</p>
<ol>
<li>3n^2+n+20 vs 100n 如果n = 10000，左邊會變成億；右邊只有百萬，所以左邊量級大</li>
<li>n^100 vs 2^n</li>
<li>n^2 vs 10nlogn</li>
<li>100^n vs n! 如果n=200，左邊100倍，右邊成長200倍，所以右邊量級大於左邊。</li>
<li>30*2^n vs 3^n</li>
<li>100n vs 200n 同一量級，因為極限的概念</li>
</ol>
<p><strong>極限概念</strong></p>
<p>如果f(n)/g(n)，n趨近無限大時趨近0，那麼說f(n)比g(n)小。<br>如果f(n)/g(n)，n趨近無限大時趨近無限大，那麼說f(n)比g(n)大。<br>否則稱作兩者一樣量級。<br>所以，100n/200n = 1/2，所以不管n多大都一樣，稱作一樣量級。<br>但是，科技進步可以補100n與200n的差異，如平行運算可能可以把100n與200n的作法都視為一樣。但如果不是同一量級，還是會有科技進步彌補不了的，如上面的例子1。</p>
<h3 id="量級的比較"><a href="#量級的比較" class="headerlink" title="量級的比較"></a>量級的比較</h3><p>以一台每秒可以進行10億次運算的電腦:</p>
<img src="/2021/09/25/%E6%BC%94%E7%AE%97%E6%B3%95%E8%A4%87%E9%9B%9C%E5%BA%A6/%E9%87%8F%E7%B4%9A%E6%AF%94%E8%BC%83.png" class="">
<p>所以好算法、壞算法需要的時間是有很大差距的。</p>
<h3 id="大歐符號-Big-O"><a href="#大歐符號-Big-O" class="headerlink" title="大歐符號 Big-O"></a>大歐符號 Big-O</h3><p>記為O(f(n))，f(n)為複雜度量級的”上界”。所以實際結果可能會比他還要小。<br>常數會省略只寫一個n</p>
<ol>
<li>3n^3+5n^2+10n+3 ∈ O(n^3)</li>
<li>f(n) ∈ O(n^2)，則f(n) ∈ O(n^3)，因為是上界</li>
<li>1000 ∈ O(1) </li>
</ol>
<p>ps.最緊上界:如果一個算法同時是O(n^2)算法、O(n^3)算法，通常會取比較小的O(n^2)，以避免過度悲觀評估。&lt;&lt;=這句我不太懂</p>
<ol>
<li>3n^2+n+20 vs 100n ；O(n^2) vs O(n)</li>
<li>n^2 vs 10nlogn；O(n^2) vs O(nlogn)</li>
<li>100^n vs n! ；O(100^n) vs O(n!)</li>
<li>30*2^n vs 3^n ；O(2^n) vs O(3^n)</li>
<li>100n vs 200n ；O(n) vs O(n)</li>
</ol>
<p>常見的時間複雜度函式:</p>
<img src="/2021/09/25/%E6%BC%94%E7%AE%97%E6%B3%95%E8%A4%87%E9%9B%9C%E5%BA%A6/%E9%87%8F%E7%B4%9A%E6%AF%94%E8%BC%83%E7%AF%84%E4%BE%8B%E5%9C%96.png" class="">

<h3 id="如果時間不穩定"><a href="#如果時間不穩定" class="headerlink" title="如果時間不穩定"></a>如果時間不穩定</h3><p>如一個人姓名存在資料庫，想找到那個人<br>如果是排第一個情況，O(1)<br>如果是排最後一個情況，O(n)</p>
<p>多數關注的是最壞的case，如:插入排序，最好是O(n)；最壞是O(n^2)</p>
<h3 id="總結"><a href="#總結" class="headerlink" title="總結"></a>總結</h3><p>從參考資料中整理的一些對演算法複雜度的知識。<br>如果有機會寫到要追求「時間花得少」或「空間花得少」時就能派上用場，但這些通常使用在底層實作上，在應用的層面非常少用到，不過能透過理解複雜度，盡量選擇好的實踐方法。</p>
<p>此外，在應用層面上，相容性較高、開發成本低，我認為比較重要；底層函式庫則是追求時間花得少、空間花得少。所以，看是寫哪個層面的程式，如果兩者反過來會蠻可怕的。</p>
<h3 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h3><p><a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E5%A4%A7O%E7%AC%A6%E5%8F%B7">https://zh.wikipedia.org/wiki/%E5%A4%A7O%E7%AC%A6%E5%8F%B7</a><br><a target="_blank" rel="noopener" href="https://www.youtube.com/watch?app=desktop&amp;v=_r7cfVrn28c">https://www.youtube.com/watch?app=desktop&amp;v=_r7cfVrn28c</a><br><a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6">https://zh.wikipedia.org/wiki/%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://yuhsiang237.github.io/2021/09/25/%E6%BC%94%E7%AE%97%E6%B3%95%E8%A4%87%E9%9B%9C%E5%BA%A6/" data-id="cme6kwo430082galjdred2hwc" data-title="Big-O 複雜度分析" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-無限階層留言資料表規劃" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/09/23/%E7%84%A1%E9%99%90%E9%9A%8E%E5%B1%A4%E7%95%99%E8%A8%80%E8%B3%87%E6%96%99%E8%A1%A8%E8%A6%8F%E5%8A%83/" class="article-date">
  <time class="dt-published" datetime="2021-09-22T16:17:56.000Z" itemprop="datePublished">2021-09-23</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Database/">Database</a>►<a class="article-category-link" href="/categories/Database/SQL-Server/">SQL Server</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/09/23/%E7%84%A1%E9%99%90%E9%9A%8E%E5%B1%A4%E7%95%99%E8%A8%80%E8%B3%87%E6%96%99%E8%A1%A8%E8%A6%8F%E5%8A%83/">無限階層留言規劃，含資料表設計</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>這個議題算是只要有留言系統，並且想實作無限層級的留言都會碰到的。<br>如:Facebook的留言、wordpress的留言。<br>當然也有簡單類的留言，只有一層的，如:古早的無名小站，但這不是我們今天要探討的。<br>就單刀直入了，如何實作「無限階層的留言」。</p>
<h3 id="資料表"><a href="#資料表" class="headerlink" title="資料表"></a>資料表</h3><p>只要一張comments表加上parent_id即可，如下。<br>再來就可以利用程式方式(遞迴或迴圈)去印出他。</p>
<img src="/2021/09/23/%E7%84%A1%E9%99%90%E9%9A%8E%E5%B1%A4%E7%95%99%E8%A8%80%E8%B3%87%E6%96%99%E8%A1%A8%E8%A6%8F%E5%8A%83/nested-comments.png" class="">

<h3 id="程式部分"><a href="#程式部分" class="headerlink" title="程式部分"></a>程式部分</h3><p>把comments當主表，撈出資料SQL:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">select</span><br><span class="line">users.name,</span><br><span class="line">comments.id,</span><br><span class="line">comments.comment_parent_id,</span><br><span class="line">comments.title,</span><br><span class="line">comments.content</span><br><span class="line">from comments left join users on comments.user_id = users.id</span><br></pre></td></tr></table></figure>

<p>把上面資料表進行關聯後撈出後的資料:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">    &#123;id:1,comment_parent_id:null,title:&#x27;留言1&#x27;,content:&#x27;內容&#x27;,name:&#x27;路人A&#x27;&#125;,</span><br><span class="line">    &#123;id:2,comment_parent_id:null,title:&#x27;留言2&#x27;,content:&#x27;內容&#x27;,name:&#x27;路人B&#x27;&#125;,</span><br><span class="line">    &#123;id:3,comment_parent_id:2,title:&#x27;留言3&#x27;,content:&#x27;內容&#x27;,name:&#x27;路人C&#x27;&#125;,</span><br><span class="line">    &#123;id:4,comment_parent_id:3,title:&#x27;留言4&#x27;,content:&#x27;內容&#x27;,name:&#x27;路人D&#x27;&#125;,</span><br><span class="line">    &#123;id:5,comment_parent_id:3,title:&#x27;留言5&#x27;,content:&#x27;內容&#x27;,name:&#x27;路人E&#x27;&#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<p>再來就可以實作程式碼了，我們要先把上面SQL撈出來的「打平結構」變成「樹狀結構」。<br>這會需要使用到遞迴。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;title&gt;Page Title&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">const commentList = [</span><br><span class="line">    &#123;id:1,comment_parent_id:null,title:&#x27;留言1&#x27;,content:&#x27;內容&#x27;,name:&#x27;路人A&#x27;&#125;,</span><br><span class="line">    &#123;id:2,comment_parent_id:null,title:&#x27;留言2&#x27;,content:&#x27;內容&#x27;,name:&#x27;路人B&#x27;&#125;,</span><br><span class="line">    &#123;id:3,comment_parent_id:2,title:&#x27;留言3&#x27;,content:&#x27;內容&#x27;,name:&#x27;路人C&#x27;&#125;,</span><br><span class="line">    &#123;id:4,comment_parent_id:3,title:&#x27;留言4&#x27;,content:&#x27;內容&#x27;,name:&#x27;路人D&#x27;&#125;,</span><br><span class="line">    &#123;id:5,comment_parent_id:3,title:&#x27;留言5&#x27;,content:&#x27;內容&#x27;,name:&#x27;路人E&#x27;&#125;</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line">// 建立樹狀階層</span><br><span class="line">function buildTree(commentList)&#123;</span><br><span class="line">    // 根節點</span><br><span class="line">    const rootNode = commentList.filter(it=&gt; it.comment_parent_id === null)</span><br><span class="line">    // 增加子節點</span><br><span class="line">    return addNode(rootNode,commentList)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 添加子節點</span><br><span class="line">function addNode(children,commentList)&#123;</span><br><span class="line">    // 找不到子節點返回</span><br><span class="line">    if(children.length === 0)&#123;</span><br><span class="line">    	return []</span><br><span class="line">    &#125;</span><br><span class="line">    // 添加子節點</span><br><span class="line">    const arr = [] </span><br><span class="line">    // 遍歷當前children節點</span><br><span class="line">    for(let i=0;i&lt;children.length;i++)&#123;</span><br><span class="line">    	// 查詢底下的子節點</span><br><span class="line">        const childrenNode = commentList.filter(it=&gt; </span><br><span class="line">        it.comment_parent_id === children[i].id)</span><br><span class="line">        // 把底下子節點添加進陣列</span><br><span class="line">        arr.push(&#123;</span><br><span class="line">            id:children[i].id,</span><br><span class="line">            name:children[i].name,</span><br><span class="line">            title:children[i].title,</span><br><span class="line">            content:children[i].content,</span><br><span class="line">            children:addNode(childrenNode,commentList)</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">    // 返回子節點陣列</span><br><span class="line">    return arr</span><br><span class="line">&#125;</span><br><span class="line">// 印出結果</span><br><span class="line">console.log(JSON.stringify(buildTree(commentList)));</span><br><span class="line"></span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<p><strong>轉成樹狀階層後的資料:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">    &#123;</span><br><span class="line">        &quot;id&quot;: 1,</span><br><span class="line">        &quot;name&quot;: &quot;路人A&quot;,</span><br><span class="line">        &quot;title&quot;: &quot;留言1&quot;,</span><br><span class="line">        &quot;content&quot;: &quot;內容&quot;,</span><br><span class="line">        &quot;children&quot;: []</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        &quot;id&quot;: 2,</span><br><span class="line">        &quot;name&quot;: &quot;路人B&quot;,</span><br><span class="line">        &quot;title&quot;: &quot;留言2&quot;,</span><br><span class="line">        &quot;content&quot;: &quot;內容&quot;,</span><br><span class="line">        &quot;children&quot;: [</span><br><span class="line">            &#123;</span><br><span class="line">                &quot;id&quot;: 3,</span><br><span class="line">                &quot;name&quot;: &quot;路人C&quot;,</span><br><span class="line">                &quot;title&quot;: &quot;留言3&quot;,</span><br><span class="line">                &quot;content&quot;: &quot;內容&quot;,</span><br><span class="line">                &quot;children&quot;: [</span><br><span class="line">                    &#123;</span><br><span class="line">                        &quot;id&quot;: 4,</span><br><span class="line">                        &quot;name&quot;: &quot;路人D&quot;,</span><br><span class="line">                        &quot;title&quot;: &quot;留言4&quot;,</span><br><span class="line">                        &quot;content&quot;: &quot;內容&quot;,</span><br><span class="line">                        &quot;children&quot;: []</span><br><span class="line">                    &#125;,</span><br><span class="line">                    &#123;</span><br><span class="line">                        &quot;id&quot;: 5,</span><br><span class="line">                        &quot;name&quot;: &quot;路人E&quot;,</span><br><span class="line">                        &quot;title&quot;: &quot;留言5&quot;,</span><br><span class="line">                        &quot;content&quot;: &quot;內容&quot;,</span><br><span class="line">                        &quot;children&quot;: []</span><br><span class="line">                    &#125;</span><br><span class="line">                ]</span><br><span class="line">            &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<p>光轉成上面那串，就想了快3小時的遞迴，然後上網找些範例參考才組出來。<br>我當時的疑問就是:「怎麼讓遞迴去回傳整包陣列」，所幸有找到參考，然後小改自己程式就成功了。</p>
<p>再來就是把上面那階層式資料在網頁上印出來。<br>還是要用遞迴。</p>
<h3 id="網頁上內容呈現"><a href="#網頁上內容呈現" class="headerlink" title="網頁上內容呈現"></a>網頁上內容呈現</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;title&gt;Page Title&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line"></span><br><span class="line">&lt;div id=&quot;comment&quot;&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">const commentList = [</span><br><span class="line">    &#123; id: 1, comment_parent_id: null, title: &#x27;留言1&#x27;, content: &#x27;內容&#x27;, name: &#x27;路人A&#x27; &#125;,</span><br><span class="line">    &#123; id: 2, comment_parent_id: null, title: &#x27;留言2&#x27;, content: &#x27;內容&#x27;, name: &#x27;路人B&#x27; &#125;,</span><br><span class="line">    &#123; id: 3, comment_parent_id: 2, title: &#x27;留言3&#x27;, content: &#x27;內容&#x27;, name: &#x27;路人C&#x27; &#125;,</span><br><span class="line">    &#123; id: 4, comment_parent_id: 3, title: &#x27;留言4&#x27;, content: &#x27;內容&#x27;, name: &#x27;路人D&#x27; &#125;,</span><br><span class="line">    &#123; id: 5, comment_parent_id: 3, title: &#x27;留言5&#x27;, content: &#x27;內容&#x27;, name: &#x27;路人E&#x27; &#125;</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line">// 建立樹狀階層</span><br><span class="line">function buildTree(commentList) &#123;</span><br><span class="line">    // 根節點</span><br><span class="line">    const rootNode = commentList.filter(it =&gt; it.comment_parent_id === null)</span><br><span class="line">    // 增加子節點</span><br><span class="line">    return addNode(rootNode, commentList)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 添加子節點</span><br><span class="line">function addNode(children, commentList) &#123;</span><br><span class="line">    // 找不到子節點返回</span><br><span class="line">    if (children.length === 0) &#123;</span><br><span class="line">        return []</span><br><span class="line">    &#125;</span><br><span class="line">    // 添加子節點</span><br><span class="line">    const arr = []</span><br><span class="line">    // 遍歷當前children節點</span><br><span class="line">    for (let i = 0; i &lt; children.length; i++) &#123;</span><br><span class="line">        // 查詢底下的子節點</span><br><span class="line">        const childrenNode = commentList.filter(it =&gt;</span><br><span class="line">            it.comment_parent_id === children[i].id)</span><br><span class="line">        // 把底下子節點添加進陣列</span><br><span class="line">        arr.push(&#123;</span><br><span class="line">            id: children[i].id,</span><br><span class="line">            name: children[i].name,</span><br><span class="line">            title: children[i].title,</span><br><span class="line">            content: children[i].content,</span><br><span class="line">            children: addNode(childrenNode, commentList)</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">    // 返回子節點陣列</span><br><span class="line">    return arr</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 在網頁上呈現出結果</span><br><span class="line">function generateCommentTemplate(children) &#123;</span><br><span class="line">    let template = &#x27;&lt;ul&gt;&#x27;</span><br><span class="line">    for (let i = 0; i &lt; children.length; i++) &#123;</span><br><span class="line">        template += &#x27;&lt;li&gt;&#x27;</span><br><span class="line">        template += children[i].title + &#x27;&lt;br&gt;&#x27;</span><br><span class="line">        template += children[i].content + &#x27;&lt;br&gt;&#x27;</span><br><span class="line">        template += children[i].name + &#x27;&lt;br&gt;&#x27;</span><br><span class="line"></span><br><span class="line">        // 如果有子節點則遞迴再次呼叫</span><br><span class="line">        if (children[i].children.length !== 0) &#123;</span><br><span class="line">            template += generateCommentTemplate(children[i].children)</span><br><span class="line">        &#125;</span><br><span class="line">        template += &#x27;&lt;/li&gt;&#x27;</span><br><span class="line">    &#125;</span><br><span class="line">    template += &#x27;&lt;/ul&gt;&#x27;</span><br><span class="line">    return template</span><br><span class="line">&#125;</span><br><span class="line">// 建立樹狀結構</span><br><span class="line">const tree = buildTree(commentList)</span><br><span class="line">// 產生HTML模板</span><br><span class="line">document.getElementById(&quot;comment&quot;).innerHTML = generateCommentTemplate(tree)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<p><strong>輸出結果:</strong></p>
<img src="/2021/09/23/%E7%84%A1%E9%99%90%E9%9A%8E%E5%B1%A4%E7%95%99%E8%A8%80%E8%B3%87%E6%96%99%E8%A1%A8%E8%A6%8F%E5%8A%83/demo.png" class="">


<h3 id="總結"><a href="#總結" class="headerlink" title="總結"></a>總結</h3><p>整篇大概花了5小時左右寫完，算是網頁系統裡最難的”遞迴”。<br>在網路上查，很難有一篇現成完整範例T_T，所以在這篇中就把整套都放上來。<br>同時練習對於樹的掌握。</p>
<p>流程如下:<br>1.規劃無限階層的留言 - 約10分鐘<br>2.樹的組合(遞迴) - 約3小時<br>3.轉譯成HTML模板(遞迴) - 約30分鐘</p>
<p>總之，有點成就感，因為真的不好寫。<br>如果後端一開始吐給你的是已經階層化的，那就很輕鬆了，因為那段的遞迴比較簡單。</p>
<p>ps.這留言的實作方法也能用來處理分類、類別、側邊欄，就內文改一下即可。</p>
<p>我有封裝了方法變成一隻.js函式庫，可以直接拿去用。<br><a target="_blank" rel="noopener" href="https://github.com/yuhsiang237/buildTree.js">https://github.com/yuhsiang237/buildTree.js</a></p>
<p><strong>參考資料</strong><br><a target="_blank" rel="noopener" href="https://blog.51cto.com/dd118/2095671">https://blog.51cto.com/dd118/2095671</a><br><a target="_blank" rel="noopener" href="https://kevintsengtw.blogspot.com/2013/07/aspnet-mvc-jquery-easy-ui-tree-json.html">https://kevintsengtw.blogspot.com/2013/07/aspnet-mvc-jquery-easy-ui-tree-json.html</a><br><a target="_blank" rel="noopener" href="https://ithelp.ithome.com.tw/articles/10028129">https://ithelp.ithome.com.tw/articles/10028129</a><br><a target="_blank" rel="noopener" href="https://itw01.com/UBNZIEU.html">https://itw01.com/UBNZIEU.html</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://yuhsiang237.github.io/2021/09/23/%E7%84%A1%E9%99%90%E9%9A%8E%E5%B1%A4%E7%95%99%E8%A8%80%E8%B3%87%E6%96%99%E8%A1%A8%E8%A6%8F%E5%8A%83/" data-id="cme6kwo440085galj9gmaerht" data-title="無限階層留言規劃，含資料表設計" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-角色權限資料表規劃" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/09/22/%E8%A7%92%E8%89%B2%E6%AC%8A%E9%99%90%E8%B3%87%E6%96%99%E8%A1%A8%E8%A6%8F%E5%8A%83/" class="article-date">
  <time class="dt-published" datetime="2021-09-22T02:07:16.000Z" itemprop="datePublished">2021-09-22</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Database/">Database</a>►<a class="article-category-link" href="/categories/Database/SQL-Server/">SQL Server</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/09/22/%E8%A7%92%E8%89%B2%E6%AC%8A%E9%99%90%E8%B3%87%E6%96%99%E8%A1%A8%E8%A6%8F%E5%8A%83/">資訊系統的角色權限規劃，含資料表設計</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>寫後台系統時，有個很複雜的難點在於「角色權限」。<br>難點在如何變得好擴充，又能讓整個後台系統容易分權。<br>如:A進到一個頁面，在這頁面只能看，不能編輯。</p>
<h3 id="思考的角度"><a href="#思考的角度" class="headerlink" title="思考的角度"></a>思考的角度</h3><p>如果同時思考「頁面權限」和「新刪修查權限」，很容易陷入混亂。<br>因此，建議先有個 <strong>「這個系統主要是要幹嘛」</strong> 的概念，說不定根本不用權限，因為使用者就那幾個，或是只到頁面上的分權，先有了使用者需求是什麼，再來確定要用哪種方法。</p>
<p>在此，我想探討的會是「頁面權限」到「新刪修查權限」的作法。<br>考量到使用者操作的直覺，以「模組&gt;功能&gt;操作權限」這樣排。</p>
<p>如此一來，我們功能只要對到「查看、新增、編輯、刪除」，先解決了細部的部分。<br>再來就只要把模組與功能分類關聯即可。</p>
<img src="/2021/09/22/%E8%A7%92%E8%89%B2%E6%AC%8A%E9%99%90%E8%B3%87%E6%96%99%E8%A1%A8%E8%A6%8F%E5%8A%83/%E6%AC%8A%E9%99%90%E8%A8%AD%E8%A8%88.PNG" class="">

<h3 id="資料表規劃"><a href="#資料表規劃" class="headerlink" title="資料表規劃"></a>資料表規劃</h3><p>users:使用者，上面綁角色role_id，每個使用者都有一種角色。<br>roles:角色，用來設定權限用。<br>module_permissions:模組權限，用來綁定底下功能權限。<br>func_permissions:功能權限，用來綁底層的權限。<br>permissions:權限，用來綁func_permissions與permission_types的表。<br>permission_types:權限分類，可自行定義分類，如:查看、新增、編輯、刪除…等。</p>
<p>ps.資料表上的name欄位也能說是code、key值，就是在網頁上你要抓檢查用的。</p>
<p>以下做的這張表就能進行分權。因為是以功能劃分，所以之後如果有APP或其他前端介面，只要照著「模組&gt;功能」這樣去設計一樣能夠適用。</p>
<p>如果一個A使用者進到「基礎管理&gt;角色管理功能」頁面，只要檢查他的檢視權限有沒有，沒有就返回首頁即可。只要有勾取功能權限，那必有檢視的權限。</p>
<p>如果更新角色時，把module_permissions、func_permissions、permissions有關聯的清空再重新建立即可。</p>
<img src="/2021/09/22/%E8%A7%92%E8%89%B2%E6%AC%8A%E9%99%90%E8%B3%87%E6%96%99%E8%A1%A8%E8%A6%8F%E5%8A%83/%E8%B3%87%E6%96%99%E5%BA%AB%E6%AC%8A%E9%99%90%E8%A8%AD%E8%A8%88.png" class="">
<p>[補充]*代表多，1代表1，可以看出是一對多還多對一<br>如果想知道更多:<a href="/2021/09/07/sql-server%E8%B3%87%E6%96%99%E5%BA%AB%E9%97%9C%E8%81%AF/" title="[Day7] SQL server資料庫關聯 - SQL Server資料庫入門">[Day7] SQL server資料庫關聯 - SQL Server資料庫入門</a> </p>
<h3 id="更多階層的權限"><a href="#更多階層的權限" class="headerlink" title="更多階層的權限?"></a>更多階層的權限?</h3><p>如果是巢狀的話也是可以，func_permissions加個func_permissions_parent_id欄位，就能變成巢狀了。<br>不過以現有系統架構來講，也是能偷吃步直接在name上說是功能A的XXX項目也是可以的。</p>
<p>通常不會有超過5階以上的頁面，不然使用者會迷路、功能分則過細也不好用，即使遇到也是能用上面兩種方法去克服。</p>
<p>然後，建議權限這種不要做成動態的樹，因為哪天要改會很麻煩，建議這種階層還是寫死，變動次數通常不會太多，寫的簡單些未來也好改。</p>
<h3 id="如果是API權限如RESTful-API"><a href="#如果是API權限如RESTful-API" class="headerlink" title="如果是API權限如RESTful API ?"></a>如果是API權限如RESTful API ?</h3><p>目前我還沒有想到比較好的解法，目前只想到能在送出去前免強撈資料表判斷。<br>在新、刪、修時都卡，而查則是盡量了，因為RESTful本身就容易查出一些原本不相干的資料，所以不好分權。</p>
<h3 id="總結"><a href="#總結" class="headerlink" title="總結"></a>總結</h3><p>花了兩小時左右打完了這篇文跟設計表，實際規劃後覺得權限這部分不算難，只是要想清楚系統到底要做什麼，再來跟PM或SA確定一種可以的結構去開發就行。<br>如今，網路上也有不同解答，如果有共事的工程師也能一起討論方法，讓這系統能順利產製便可以，千萬別執迷不悟硬幹阿@@…孩子。</p>
<p>然後我是用 <a target="_blank" rel="noopener" href="https://dbdiagram.io/">https://dbdiagram.io/</a> 來畫下面那張圖的，很方便。</p>
<p>此外，也可以參考”以角色為基礎的存取控制”（Role-based access control，RBAC）<br><a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E4%BB%A5%E8%A7%92%E8%89%B2%E7%82%BA%E5%9F%BA%E7%A4%8E%E7%9A%84%E5%AD%98%E5%8F%96%E6%8E%A7%E5%88%B6">https://zh.wikipedia.org/wiki/%E4%BB%A5%E8%A7%92%E8%89%B2%E7%82%BA%E5%9F%BA%E7%A4%8E%E7%9A%84%E5%AD%98%E5%8F%96%E6%8E%A7%E5%88%B6</a></p>
<p><strong>參考資料</strong><br><a target="_blank" rel="noopener" href="http://www.chanpin100.com/article/110136">http://www.chanpin100.com/article/110136</a><br><a target="_blank" rel="noopener" href="https://ithelp.ithome.com.tw/questions/10190444">https://ithelp.ithome.com.tw/questions/10190444</a><br><a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E4%BB%A5%E8%A7%92%E8%89%B2%E7%82%BA%E5%9F%BA%E7%A4%8E%E7%9A%84%E5%AD%98%E5%8F%96%E6%8E%A7%E5%88%B6">https://zh.wikipedia.org/wiki/%E4%BB%A5%E8%A7%92%E8%89%B2%E7%82%BA%E5%9F%BA%E7%A4%8E%E7%9A%84%E5%AD%98%E5%8F%96%E6%8E%A7%E5%88%B6</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://yuhsiang237.github.io/2021/09/22/%E8%A7%92%E8%89%B2%E6%AC%8A%E9%99%90%E8%B3%87%E6%96%99%E8%A1%A8%E8%A6%8F%E5%8A%83/" data-id="cme6kwo49008hgalj9kna8nvy" data-title="資訊系統的角色權限規劃，含資料表設計" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-自己對程式的看法" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/09/21/%E8%87%AA%E5%B7%B1%E5%B0%8D%E7%A8%8B%E5%BC%8F%E7%9A%84%E7%9C%8B%E6%B3%95/" class="article-date">
  <time class="dt-published" datetime="2021-09-21T02:16:42.000Z" itemprop="datePublished">2021-09-21</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Daily-Log/">Daily Log</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/09/21/%E8%87%AA%E5%B7%B1%E5%B0%8D%E7%A8%8B%E5%BC%8F%E7%9A%84%E7%9C%8B%E6%B3%95/">自己對自己程式的看法</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>自己算是一個寫程式的人，做過前端，也實習過後端。</p>
<img src="/2021/09/21/%E8%87%AA%E5%B7%B1%E5%B0%8D%E7%A8%8B%E5%BC%8F%E7%9A%84%E7%9C%8B%E6%B3%95/1.jpg" class="">

<p>我數學並不強，只會用比較簡單的概念去實作程式。所以在演算法、資料結構上偏向應用居多，我能知道在哪種情況下，可能要搭配的結構，但如果要空手寫出來底層，除非背過，不然要寫很久，有需要才會回去看、參考，然後才實作出來。</p>
<p>因此，我知道以自己的數學能力是沒辦法把程式弄到很頂尖的，可能前20%那種，而後面的80%或許還是有機會。<br>就是偏向應用、非演算法那塊。</p>
<p>我覺得自己優勢在整合能力，能夠把不同的東西拼起來，可以正常運行、滿足需求。到目前為止，我還沒碰過寫不出來的應用系統。</p>
<p>雖然看網路上很多文人相輕的評論，如：不會寫資結、演算法就不算工程師，但軟體工程師也分很多種，並不是每種都需要很強的資結、演算法。<br>也許，就只是要穩定的交付可運行的程式而已。</p>
<p>我遇過演算法很強但卻沒辦法在時程內完成案子的工程師，也遇過能力普普但能很穩定能夠完成案子的工程師。</p>
<p>總之，以我觀點來說就是<strong>能夠解決問題</strong>。</p>
<p>而在這片領域，我能解的可能只有80%，而那20%個人天賦影響既然沒辦法改變，那就坦然接受吧!<br>(就像每人都會寫數學，但又有幾個能變得像高斯或愛因斯坦那樣的開創者)<br><del>說來說去，別看得太重而否定自己，不過是要口飯而已。</del></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://yuhsiang237.github.io/2021/09/21/%E8%87%AA%E5%B7%B1%E5%B0%8D%E7%A8%8B%E5%BC%8F%E7%9A%84%E7%9C%8B%E6%B3%95/" data-id="cme6kwo48008fgalj1zejg47t" data-title="自己對自己程式的看法" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-35-Search-Insert-Position" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/09/21/35-Search-Insert-Position/" class="article-date">
  <time class="dt-published" datetime="2021-09-21T01:20:34.000Z" itemprop="datePublished">2021-09-21</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Code/">Code</a>►<a class="article-category-link" href="/categories/Code/C/">C#</a>►<a class="article-category-link" href="/categories/Topic/">Topic</a>►<a class="article-category-link" href="/categories/Topic/LeetCode/">LeetCode</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/09/21/35-Search-Insert-Position/">LeetCode -  35. Search Insert Position</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <div class="content__u3I1 question-content__JfgR"><div><p>Given a sorted array of distinct integers and a target value, return the index if the target is found. If not, return the index where it would be if it were inserted in order.</p>
<p>You must&nbsp;write an algorithm with&nbsp;<code>O(log n)</code> runtime complexity.</p>
<p>&nbsp;</p>
<p><strong>Example 1:</strong></p>
<pre><strong>Input:</strong> nums = [1,3,5,6], target = 5
<strong>Output:</strong> 2
</pre><p><strong>Example 2:</strong></p>
<pre><strong>Input:</strong> nums = [1,3,5,6], target = 2
<strong>Output:</strong> 1
</pre><p><strong>Example 3:</strong></p>
<pre><strong>Input:</strong> nums = [1,3,5,6], target = 7
<strong>Output:</strong> 4
</pre><p><strong>Example 4:</strong></p>
<pre><strong>Input:</strong> nums = [1,3,5,6], target = 0
<strong>Output:</strong> 0
</pre><p><strong>Example 5:</strong></p>
<pre><strong>Input:</strong> nums = [1], target = 0
<strong>Output:</strong> 0
</pre>
<p>&nbsp;</p>
<p><strong>Constraints:</strong></p>

<ul>
    <li><code>1 &lt;= nums.length &lt;= 10<sup>4</sup></code></li>
    <li><code>-10<sup>4</sup> &lt;= nums[i] &lt;= 10<sup>4</sup></code></li>
    <li><code>nums</code> contains <strong>distinct</strong> values sorted in <strong>ascending</strong> order.</li>
    <li><code>-10<sup>4</sup> &lt;= target &lt;= 10<sup>4</sup></code></li>
</ul>
</div></div>
C# Sol:

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">public class Solution &#123;</span><br><span class="line">    public int SearchInsert(int[] nums, int target) &#123;</span><br><span class="line">        int index = 0;</span><br><span class="line">        Boolean isFind = false;</span><br><span class="line">        for(int i=0;i&lt;nums.Length;i++)&#123;</span><br><span class="line">            if(nums[i] == target)&#123;</span><br><span class="line">                isFind = true;</span><br><span class="line">                index = i;</span><br><span class="line">                break;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        if(!isFind)&#123;</span><br><span class="line">            for(int i=0;i&lt;nums.Length;i++)&#123;</span><br><span class="line">                if(nums[i] &gt; target)&#123;</span><br><span class="line">                    index = i;</span><br><span class="line">                    break;</span><br><span class="line">                &#125;else if(i == nums.Length -1 )&#123;</span><br><span class="line">                    index = i+1;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        return index;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Runtime: 92 ms<br>Memory Usage: 24.9 MB
    </p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://yuhsiang237.github.io/2021/09/21/35-Search-Insert-Position/" data-id="cme6kwnzm0001galj0iohf1eq" data-title="LeetCode -  35. Search Insert Position" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/C/" rel="tag">C#</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/LeetCode/" rel="tag">LeetCode</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E8%A7%A3%E9%A1%8C/" rel="tag">解題</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-什麼是MVC" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/09/21/%E4%BB%80%E9%BA%BC%E6%98%AFMVC/" class="article-date">
  <time class="dt-published" datetime="2021-09-20T19:57:08.000Z" itemprop="datePublished">2021-09-21</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Code/">Code</a>►<a class="article-category-link" href="/categories/Code/C/">C#</a>►<a class="article-category-link" href="/categories/Topic/">Topic</a>►<a class="article-category-link" href="/categories/Topic/2021-C-AspNetCore-Challenge/">2021 C# AspNetCore Challenge</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/09/21/%E4%BB%80%E9%BA%BC%E6%98%AFMVC/">[Day2] 什麼是MVC，有什麼好處 - C#&amp;AspNetCore</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>在上回 <a href="/2021/09/20/C-MVC%E5%85%A5%E9%96%80/" title="[Day1] 學習C#的計畫與期望 - C#&amp;AspNetCore">[Day1] 學習C#的計畫與期望 - C#&amp;AspNetCore</a> 中介紹了自己的目的。<br>在這回中主要介紹MVC的核心概念。</p>
<h3 id="MVC是什麼"><a href="#MVC是什麼" class="headerlink" title="MVC是什麼?"></a>MVC是什麼?</h3><p>MVC模式（Model–view–controller）是軟體工程中的一種軟體架構模式(software design pattern)，把軟體系統分為三個基本部分：模型（Model）、視圖（View）和控制器（Controller）。 </p>
<img src="/2021/09/21/%E4%BB%80%E9%BA%BC%E6%98%AFMVC/mvc.png" class="">

<h3 id="模型（Model）"><a href="#模型（Model）" class="headerlink" title="模型（Model）"></a>模型（Model）</h3><p>程式設計師編寫程式應有的功能（實現演算法等等）、資料庫專家進行資料管理和資料庫設計(可以實現具體的功能)。<br>這邊通常放資料存取的屬性、比較複雜的資料處理。<br>在這個單元裡面，我們通常會定義資料的結構、型態、存取func，必要時會將資料的驗證寫在這個單元中。</p>
<h3 id="視圖（View）"><a href="#視圖（View）" class="headerlink" title="視圖（View）"></a>視圖（View）</h3><p>介面設計人員進行圖形介面設計。<br>簡單來說就是前台，處理HTML/CSS/JS。<br>將資料視覺化，並呈現給使用者。</p>
<h3 id="控制器（Controller）"><a href="#控制器（Controller）" class="headerlink" title="控制器（Controller）"></a>控制器（Controller）</h3><p>負責轉發請求，對請求進行處理。<br>當使用者進到了前台的視圖（View），對畫面操作所觸發的事件就會跑到控制器。<br>在控制器裡負責拿到模型（Model）的資料後加上些業務邏輯後返視圖(View)。<br>負責處理主要商業邏輯處理，資料格式處理，大部分介於Model 與 View 之間，處理資料流的溝通。</p>
<h3 id="我的疑問"><a href="#我的疑問" class="headerlink" title="我的疑問"></a>我的疑問</h3><p>Controller與Model很難劃清界限，過去在寫Laravel時就遇到類似問題。<br>因為在Controller常要對不同的請求，有不同資料回應。<br>而在Model裡對資料庫操作的存取函式就會滿足不了需求，變成要一直增加。<br>免不了在Controller操作Model甚至寫SQL，因為這樣比較直覺，不用再去想Model增加可能共用的函式。<br>如果撇除這問題，MVC架構已經算是不錯了，能夠有架構的避免義大利麵Code的問題。</p>
<h3 id="實現MVC框架"><a href="#實現MVC框架" class="headerlink" title="實現MVC框架"></a>實現MVC框架</h3><p>如果選對有Design Pattern的框架在寫的過程比較不會那麼痛苦。因為比較能知道哪邊的東西放在哪邊。<br>如我上面的疑問，其實不是在Controller就是在Model。好找出問題來源，達成目標才是主要目的。</p>
<p>Java:Spring MVC<br>C#:ASP.NET MVC<br>PHP:Laravel</p>
<p>其實還有很多，我這只列出我曾經有碰過或未來可能會碰的。</p>
<h3 id="MVC-優缺點"><a href="#MVC-優缺點" class="headerlink" title="MVC 優缺點"></a>MVC 優缺點</h3><p><strong>優點</strong></p>
<ol>
<li>好分工，團隊開發能各司其職</li>
<li>可維護性高(因具備架構性好找錯誤源頭)</li>
</ol>
<p><strong>缺點</strong></p>
<ol>
<li>如果是一頁式簡單網站容易殺雞用牛刀</li>
</ol>
<p>如果實際開發下去，有寫過MVC跟沒寫過的人應該都會選MVC，因為坑少- -+。<br>此外，即使要開發前後分離架構，也可以MVC再搭配一套前端框架，作為未來需要特別畫面需求的輔助。</p>
<h3 id="總結"><a href="#總結" class="headerlink" title="總結"></a>總結</h3><p>MVC能夠協助一個專案進行有效的分工，讓人比較能各司其職，如:視覺就是專注在View，而工程師專注在Model、Controller。<br>整體架構上也讓未來維護的人有個底，如果想看這段邏輯寫在哪那就從Controller開始，找不出原因在看Model。<br>相較於過去，這頁面需要A資料，就把資料查詢、邏輯到回應都寫在一個頁面上難以維護的慘況好很多了@@。</p>
<p><strong>參考資料</strong><br><a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/MVC">https://zh.wikipedia.org/wiki/MVC</a><br><a target="_blank" rel="noopener" href="https://ithelp.ithome.com.tw/articles/10191216">https://ithelp.ithome.com.tw/articles/10191216</a><br><a target="_blank" rel="noopener" href="https://dotblogs.com.tw/dog0416/2016/05/20/131644">https://dotblogs.com.tw/dog0416/2016/05/20/131644</a><br><a target="_blank" rel="noopener" href="https://ithelp.ithome.com.tw/articles/10194428">https://ithelp.ithome.com.tw/articles/10194428</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://yuhsiang237.github.io/2021/09/21/%E4%BB%80%E9%BA%BC%E6%98%AFMVC/" data-id="cme6kwo3o0074galj1ljah6mc" data-title="[Day2] 什麼是MVC，有什麼好處 - C#&amp;AspNetCore" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-C-MVC入門" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/09/20/C-MVC%E5%85%A5%E9%96%80/" class="article-date">
  <time class="dt-published" datetime="2021-09-19T16:00:17.000Z" itemprop="datePublished">2021-09-20</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Code/">Code</a>►<a class="article-category-link" href="/categories/Code/C/">C#</a>►<a class="article-category-link" href="/categories/Framework/">Framework</a>►<a class="article-category-link" href="/categories/Framework/AspNetCore-MVC/">AspNetCore MVC</a>►<a class="article-category-link" href="/categories/Topic/">Topic</a>►<a class="article-category-link" href="/categories/Topic/2021-C-AspNetCore-Challenge/">2021 C# AspNetCore Challenge</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/09/20/C-MVC%E5%85%A5%E9%96%80/">[Day1] 學習C#的計畫與期望 - C#&amp;AspNetCore</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>在這個 Challenge中，我想一覽C# .net core MVC的基本做法，如何透過它建立一個小型網頁系統。<br>並且搭配上一個 Challenge中的SQL Server來作為儲存體。</p>
<p>此外，我想把Laravel的那套做法搬來C#做<br><a target="_blank" rel="noopener" href="https://laravel.com/docs/8.x">https://laravel.com/docs/8.x</a><br>如:資料庫交易怎麼rollback、seed、test、orm等。</p>
<p>以及，C#特有的linq寫法。<br>此外，可能也會加點設計模式的概念作輔助。</p>
<h3 id="為什麼選C"><a href="#為什麼選C" class="headerlink" title="為什麼選C#"></a>為什麼選C#</h3><ol>
<li>因為遊戲開發沒人在用php</li>
<li>Unity是C#</li>
<li>有比較完整的學習地圖</li>
<li>在台灣工作相對其他語言多</li>
<li>強型別語言</li>
<li>微軟有開源的趨勢</li>
<li>微軟主打的語言</li>
<li>因為1、2，所以我回家會想繼續鑽研C#</li>
</ol>
<h3 id="學習目標"><a href="#學習目標" class="headerlink" title="學習目標"></a>學習目標</h3><ol>
<li>C#與MVC網頁系統、RESTful API</li>
<li>設計模式淺談</li>
<li>用C#實作Laravel框架提供的解決方案</li>
</ol>
<p>而對未來，我想用C#來寫寫看遊戲，如Unity、連線遊戲，因為喜歡像是魔物獵人、undertale那種讓人充滿成就感的感覺。</p>
<p>最後，因為我電腦容量太小，灌不了Visual Studio，所以我買了台二手的筆電T_T，希望能協助我度過這個旅程。<br>(ps.寫php跟java都沒1G…Visual Studio竟然要10G以上)</p>
<p>好了，等待電腦到來前或許能先聊聊設計模式。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://yuhsiang237.github.io/2021/09/20/C-MVC%E5%85%A5%E9%96%80/" data-id="cme6kwo100029galj654ya9wk" data-title="[Day1] 學習C#的計畫與期望 - C#&amp;AspNetCore" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-電商資料庫設計參考" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/09/19/%E9%9B%BB%E5%95%86%E8%B3%87%E6%96%99%E5%BA%AB%E8%A8%AD%E8%A8%88%E5%8F%83%E8%80%83/" class="article-date">
  <time class="dt-published" datetime="2021-09-18T18:53:39.000Z" itemprop="datePublished">2021-09-19</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Database/">Database</a>►<a class="article-category-link" href="/categories/Database/SQL-Server/">SQL Server</a>►<a class="article-category-link" href="/categories/Topic/">Topic</a>►<a class="article-category-link" href="/categories/Topic/2021-SQL-Server-Challenge/">2021 SQL Server Challenge</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/09/19/%E9%9B%BB%E5%95%86%E8%B3%87%E6%96%99%E5%BA%AB%E8%A8%AD%E8%A8%88%E5%8F%83%E8%80%83/">[Day30] 電商資料庫設計參考 - SQL Server資料庫入門</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>最後的兩回中研究別人怎麼設計資料庫。<br>這回主要探討電商，因為沒有現成的範例，所以只好去找一個大略可以講的範例。</p>
<h3 id="分析"><a href="#分析" class="headerlink" title="分析"></a>分析</h3><p>因為電商，所以最主要是販售物品為主，會有庫存、商品、結帳，讓顧客如何順利地購買產品、保留過往資料以供糾紛調查是最重要的。<br>以下是我找到的電商模擬資料表:</p>
<img src="/2021/09/19/%E9%9B%BB%E5%95%86%E8%B3%87%E6%96%99%E5%BA%AB%E8%A8%AD%E8%A8%88%E5%8F%83%E8%80%83/ecommerce-platform-data.png" class="">

<h3 id="從資料表上分析"><a href="#從資料表上分析" class="headerlink" title="從資料表上分析"></a>從資料表上分析</h3><p>先從user來說，首先要建立的就是顧客資料。<br>於是有了user、user_address、user_payment三張表。<br>而關係到能否正常運送、付款，所以把關鍵功能拿出來開表也是很正常的。<br>為了避免欄位過多，把不相干的項目拉出去就是資料庫正規化。<br>不斷比較各個欄位與該列表的主鍵關係，把表拆出，即2NF、3NF。</p>
<p>再來是product，產品。<br>因此有了product_category、product_inventory、discount三張表。<br>產品的分類、庫存、折扣，而其中庫存最重要，因為它關係到能否正常賣出東西。<br>雖然我不知道為什麼不直接把product_inventory的外來鍵設定成product的主鍵，這樣能更直覺的去Mapping。總之，多開這一張庫存表可以知道販售的情況、庫存異動情況。在價格變動上，想追蹤也是可以這麼做的。<br>而discount表，則是拉出來，獨立處理這商品套用的折扣，有個active，可以啟用、關閉。我覺得這張折扣表上可以加一個修正價錢，等於有一段時間打折能直接套用這折扣價，照原本設計是用百分比去折扣。<br>我覺得這商品是最難的規劃，會有多種不同價格，怎麼記錄他異動等等。</p>
<p>再來是購物車shopping_session、cart_item。<br>因為我們可能會換電腦操作，所以不能放在Cookie，會需要購物車幫我們紀錄要買哪些資料。<br>在這cart_item裡面就是不斷添加產品product，可能有N個產品，之後這N個產品都算在同一個shopping_session上。<br>這段我自己覺得只要cart_item就好，就是購物車裡放哪些東西，因為只是用來暫存用的。</p>
<p>結帳完成訂單order_details、order_items、payment_details。<br>在最後流程就是使用者要能夠結帳、產生訂單。<br>把cart_item的資料都拿出來，放到order_items，之後點下結帳時，用程式的”交易”的寫法，去檢查能正常扣除庫存，就建立這筆訂單。<br>此外，訂單建立就是付款了，只要照著付款流程付完款，在更新payment_details即可。<br>而order_details則是記錄這筆訂單總金額、備註等等。<br>如果被刪除了，是否要自動把庫存加回去就看個人需求，總之能做到。<br>如果怕有糾紛問題就是多存一份沒關聯的字串資料。把當時結帳的商品名稱、款項都寫明，已備不時之需使用。</p>
<p>此外，商品那些都做成軟刪除，因為未來可能會需要關聯，所以能看到有deleted_at欄位。<br>deleted_at、modified_at、created_at在資料庫的表建議都建立，以供人工好追蹤。<br>然後，發現好像大多數資料表設計如type類型都設定成varchar，應該在拉出去一層關聯會比較好，往後類型被改會比較容易更新，只取代一個跟取代N個的差別。</p>
<h3 id="從型別上分析"><a href="#從型別上分析" class="headerlink" title="從型別上分析"></a>從型別上分析</h3><p>時間它是用timestamp，但如果SQL server用datetime2會更好。<br>商品的價格上price用decimal，跟我前面幾回探討過的型別有關，就是選沒有誤差精確數值。<br>在id上是int，但其實也可以用bigint如wordpress就是用bigint。<br>文字用varchar。</p>
<h3 id="總結"><a href="#總結" class="headerlink" title="總結"></a>總結</h3><p>從這個資料庫來看，已能滿足大多的需求，我覺得關鍵在這系統主要想幹嘛，在把那部份特別補強設計架構，就八九不離時了。<br>主要的功能表能設計的穩固，後面要擴建就能容易些。<br>此外，我覺得還能再加上個折價券表，可以套用在最後的結帳上。</p>
<p><strong>參考資料</strong><br><a target="_blank" rel="noopener" href="https://resources.fabric.inc/blog/answers/ecommerce-database-design-example?fbclid=IwAR388b0qI1maAfEDWguD9y4pOEywv3TG2gJIEq4jDW2jNQsZWdYfdTSVr-I">https://resources.fabric.inc/blog/answers/ecommerce-database-design-example?fbclid=IwAR388b0qI1maAfEDWguD9y4pOEywv3TG2gJIEq4jDW2jNQsZWdYfdTSVr-I</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://yuhsiang237.github.io/2021/09/19/%E9%9B%BB%E5%95%86%E8%B3%87%E6%96%99%E5%BA%AB%E8%A8%AD%E8%A8%88%E5%8F%83%E8%80%83/" data-id="cme6kwo7f00ougalj1gej7sro" data-title="[Day30] 電商資料庫設計參考 - SQL Server資料庫入門" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-如何讓自己的想法變正面" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/09/19/%E5%A6%82%E4%BD%95%E8%AE%93%E8%87%AA%E5%B7%B1%E7%9A%84%E6%83%B3%E6%B3%95%E8%AE%8A%E6%AD%A3%E9%9D%A2/" class="article-date">
  <time class="dt-published" datetime="2021-09-18T17:51:30.000Z" itemprop="datePublished">2021-09-19</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Daily-Log/">Daily Log</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/09/19/%E5%A6%82%E4%BD%95%E8%AE%93%E8%87%AA%E5%B7%B1%E7%9A%84%E6%83%B3%E6%B3%95%E8%AE%8A%E6%AD%A3%E9%9D%A2/">如何讓自己的想法變正面</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>先讓自己吃飽，身體的能量夠。</p>
<img src="/2021/09/19/%E5%A6%82%E4%BD%95%E8%AE%93%E8%87%AA%E5%B7%B1%E7%9A%84%E6%83%B3%E6%B3%95%E8%AE%8A%E6%AD%A3%E9%9D%A2/1.jpg" class="">
<p><strong><center>GJ! 幸運星-此方</center></strong><br>不要開網路，不要去看留言，不要去看新聞。<br>期待每天可能會發生的好事。<br>多走向戶外，讓自己轉換眼界。<br>做自己有興趣的事，讓自己滿足有成就感。<br>活著有無限的可能性，多嘗試。<br>每天做點能夠實際改變現況的事。<br>看書。<br>行動。<br>如此一來，時機一到，佛系的正面想法就來了。(棒)</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://yuhsiang237.github.io/2021/09/19/%E5%A6%82%E4%BD%95%E8%AE%93%E8%87%AA%E5%B7%B1%E7%9A%84%E6%83%B3%E6%B3%95%E8%AE%8A%E6%AD%A3%E9%9D%A2/" data-id="cme6kwo3w007ngalj3bkk4usn" data-title="如何讓自己的想法變正面" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/page/10/">&laquo; Prev</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/9/">9</a><a class="page-number" href="/page/10/">10</a><span class="page-number current">11</span><a class="page-number" href="/page/12/">12</a><a class="page-number" href="/page/13/">13</a><span class="space">&hellip;</span><a class="page-number" href="/page/16/">16</a><a class="extend next" rel="next" href="/page/12/">Next &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Code/">Code</a><span class="category-list-count">80</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Code/C/">C#</a><span class="category-list-count">69</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Code/Javascript/">Javascript</a><span class="category-list-count">11</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Code/Refactoring/">Refactoring</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Code/Typescript/">Typescript</a><span class="category-list-count">5</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Computer-Science/">Computer Science</a><span class="category-list-count">5</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Computer-Science/Algorithm/">Algorithm</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Computer-Science/Data-structure/">Data structure</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Computer-Science/Electronic-Circuit/">Electronic Circuit</a><span class="category-list-count">2</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Daily-Log/">Daily Log</a><span class="category-list-count">9</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Database/">Database</a><span class="category-list-count">57</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Database/PostgreSQL/">PostgreSQL</a><span class="category-list-count">10</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Database/SQL-Server/">SQL Server</a><span class="category-list-count">47</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Framework/">Framework</a><span class="category-list-count">27</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Framework/AspNetCore-API/">AspNetCore API</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Framework/AspNetCore-MVC/">AspNetCore MVC</a><span class="category-list-count">21</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Topic/">Topic</a><span class="category-list-count">80</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Topic/2021-C-AspNetCore-Challenge/">2021 C# AspNetCore Challenge</a><span class="category-list-count">30</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Topic/2021-SQL-Server-Challenge/">2021 SQL Server Challenge</a><span class="category-list-count">30</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Topic/2022-C-SyncAndAsync/">2022 C# SyncAndAsync</a><span class="category-list-count">8</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Topic/2025-Typescript/">2025 Typescript</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Topic/Big-Data/">Big Data</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Topic/LeetCode/">LeetCode</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Topic/SystemStructure/">SystemStructure</a><span class="category-list-count">1</span></li></ul></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/08/">August 2025</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/05/">May 2023</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/03/">March 2023</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/02/">February 2023</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/01/">January 2023</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/12/">December 2022</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/09/">September 2022</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/07/">July 2022</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/06/">June 2022</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/05/">May 2022</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/04/">April 2022</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/03/">March 2022</a><span class="archive-list-count">17</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/02/">February 2022</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/01/">January 2022</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/12/">December 2021</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/10/">October 2021</a><span class="archive-list-count">24</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/09/">September 2021</a><span class="archive-list-count">46</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/08/">August 2021</a><span class="archive-list-count">12</span></li></ul>
    </div>
  </div>


  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2025 Yu Hsiang<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.4.1.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>
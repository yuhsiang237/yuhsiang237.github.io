---
title: 談React框架難以維護的問題
date: 2022-05-13 18:34:03
categories:
   - [Code,Javascript]
---
這篇聊一下我所認識的React在過往的實作上會遇到的隱藏問題。
這篇極為主觀，是我的個人觀感。

#### 1.React如果不用Typescript寫，那麼後人維護時會很崩潰
```javascript
const getOrderReceiptData({order}) => order?.detail?.receipt?.data
```
99.9%會有以上做法去傳參數，這時別人想知道order是什麼就會需要一直往前面追，才能知道物件到底裡面塞什麼、在哪做過變更，尤其在分散的js檔案竄來竄去這點就很可怕。

#### 2.過度抽象與不加註解
```javascript
const getData({pid,od,o}) => { 
    //略 以下作一些複雜的pid、od、o的資料處理
}
```
像是這樣，添加一些自己覺得合理但其實超難讀的簡寫參數
然後getData因為最後要取得data所以就抽象叫做getData，但不寫註解，讓人要盤完內容才能知道做什麼。一個還好，當A call B、B call C時，就會很可怕。

#### 3.要去讀/改別人自己又封裝的套件
這個討厭程度極高...而別人封裝的套件又沒說明文件時...
```javascript
<CustomTable
    data={data}
    key={id}
    isDeleted={checkedList}
    ...
/>
```
比如上面這個外面帶N個參數，前往實作看到1000行js，很可怕。
要改一個小東西，要重寫也無法，因為全部吃那一套。
寫React真的別閉門造車，特別又是不寫說明文件的人，請去用開源套件謝謝...。

#### 4.巢狀元件
當你一直前往發現套件裡面還有更多套件，像是俄羅斯娃娃，而這些俄羅斯娃娃又拆的很散。

#### 5.一人一套寫法
React官方沒有固定範例寫法，只提供基本library，就是基礎ES6 JS去寫，所以每個人寫出的code都不一樣，而這些不一樣如果又是新手剛學所寫的，那就會一開始架構沒規劃好，後面就是建立一個歪掉的建築。
所以React...維護的專案會很可怕。

相比Vue，Vue官方做的很好，完整的範例可以參考，大家寫法也99%一致。

### 結論
其實很多人鼓吹JQuery淘汰，都改去寫React是有問題的，因為React容易要改一個東西要讀前人的一串技術債，改法絕對沒JQuery輕鬆而且會改到很崩潰。
不是元件化了?那前提是元件化是合理的...當發現一些不合理參數傳進去、設計奇怪的元件、客製化又封裝...自己想吧，如果你是接手的，JQuery還痛快些。

總之，寫React會遇到上述的這些機率超高，塊陶...。

那Vue呢?
Vue有官方完整應用範例，像人在看的HTML Template不像React的jsx，畫面好上手、包好的語法糖，後面接手的人都不會太有壓力。即使是用js寫不是typescript，因為他不用像React過度抽象化，很多官方語法糖都包好了。

然後如果是大專案，Typescript是必須的，否則你的js會在多人改來改去下炸鍋。

以上是個人體驗後的結論。